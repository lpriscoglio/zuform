(self.webpackChunkargon_dashboard_angular=self.webpackChunkargon_dashboard_angular||[]).push([[84],{6084:(qt,wt,Z)=>{"use strict";Z.r(wt),Z.d(wt,{AdminLayoutModule:()=>Zi});var Ct=Z(529),xt=Z(4102),pt=Z(6895),C=Z(433),t=Z(1571);let x=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[pt.ez]]}),n})();var V=Z(5861),tt=Z(3028),_t=Z(8739),it=Z(6308),y=Z(7155);const gt={"Dd;E":{role:"Dd;E",best_role:"Dd"},"Ds;E":{role:"Ds;E",best_role:"Ds"},"Dd;Dc":{role:"Dd;Dc",best_role:"Dc"},"Dd;Ds;Dc":{role:"Dd;Ds;Dc",best_role:"Dc"},"Dd;Ds;E":{role:"Dd;Ds;E",best_role:"Dd;Ds"},"Ds;Dc":{role:"Ds;Dc",best_role:"Dc"},"W;A":{role:"W;A",best_role:"W"},"C;T":{role:"C;T",best_role:"C"},"T;A":{role:"T;A",best_role:"T"},"W;T":{role:"W;T",best_role:"W;T"},"M;C":{role:"M;C",best_role:"M"},"E;W":{role:"E;W",best_role:"E"},"C;W;T":{role:"C;W;T",best_role:"C"},"E;C":{role:"E;C",best_role:"E"},"E;M":{role:"E;M",best_role:"E;M"},"W;T;A":{role:"W;T;A",best_role:"W;T"}};class bt{constructor(o){if(!(o&&o.id&&o.name&&o.team))throw new Error("Essential fields are missing to create a Player instance.");this.id=this.getIntWithDefault(o?.id,0),this.name=o?.name||"",this.team=o?.team||"",this.ruolo_classic=o?.ruolo_classic||"",this.role_mantra=o?.role_mantra||[o.role_1_mantra,o?.role_2_mantra,o?.role_3_mantra].filter(e=>Boolean(e)).join(";"),this.best_role_mantra=this.getBestRoleValues(o?.role_mantra||[o.role_1_mantra,o?.role_2_mantra,o?.role_3_mantra].filter(e=>Boolean(e)).join(";")),this.curr_value_classic=this.getIntWithDefault(o?.curr_value_classic,0),this.base_value_classic=this.getIntWithDefault(o?.base_value_classic,0),this.curr_value_mantra=this.getIntWithDefault(o?.curr_value_mantra,0),this.base_value_mantra=this.getIntWithDefault(o?.base_value_mantra,0),this.value_classic_1000=this.getIntWithDefault(o?.value_classic_1000,0),this.value_mantra_1000=this.getIntWithDefault(o?.value_mantra_1000,0),this.rating=o?.rating||"",this.first_team=this.getIntWithDefault(o?.first_team,0),this.gk=this.getIntWithDefault(o?.gk,0),this.penalty_taker=o?.penalty_taker||"",this.free_kick_taker=o?.free_kick_taker||"",this.injured=this.getIntWithDefault(o?.injured,0),this.played_2223=this.getIntWithDefault(o?.played_2223,-1),this.goals_2223=this.getIntWithDefault(o?.goals_2223,-1),this.assist_2223=this.getIntWithDefault(o?.assist_2223,-1),this.penalties_goals_2223=this.getIntWithDefault(o?.penalties_goals_2223,-1),this.penalties_failed_2223=this.getIntWithDefault(o?.penalties_failed_2223,-1),this.average_2223=this.getDoubleWithDefault(o?.average_2223,-1),this.played_2122=this.getIntWithDefault(o?.played_2122,-1),this.goals_2122=this.getIntWithDefault(o?.goals_2122,-1),this.assist_2122=this.getIntWithDefault(o?.assist_2122,-1),this.penalties_goals_2122=this.getIntWithDefault(o?.penalties_goals_2122,-1),this.penalties_failed_2122=this.getIntWithDefault(o?.penalties_failed_2122,-1),this.average_2122=this.getDoubleWithDefault(o?.average_2122,-1),this.played_2021=this.getIntWithDefault(o?.played_2021,-1),this.goals_2021=this.getIntWithDefault(o?.goals_2021,-1),this.assist_2021=this.getIntWithDefault(o?.assist_2021,-1),this.penalties_goals_2021=this.getIntWithDefault(o?.penalties_goals_2021,-1),this.penalties_failed_2021=this.getIntWithDefault(o?.penalties_failed_2021,-1),this.average_2021=this.getDoubleWithDefault(o?.average_2021,-1),this.notes=o?.notes||"",this.isEdit=null!=o?.isEdit&&"false"!==o?.isEdit&&o?.isEdit,this.price=this.getIntWithDefault(o?.price,0),this.team_id=this.getIntWithDefault(o?.team_id,0)}getIntWithDefault(o,e=0){const i=parseInt(o);return Number.isNaN(i)?e:i}getDoubleWithDefault(o,e=0){if("string"==typeof o){const i=parseFloat(o.replace(",","."));return Number.isNaN(i)?e:i}return"number"==typeof o?Number.isNaN(o)?e:o:e}getDisplayName(){return`${this.name} (${this.team})`}getBestRoleValues(o){return gt[o]?gt[o].best_role:o}}var Tt=Z(1135),vt=Z(6805),Ft=Z(930);let At=(()=>{class n{constructor(e){this.http=e,this.dataSubject=new Tt.X([]),this.dataTable$=this.dataSubject.asObservable(),this.initalizeStorage(),this.dataTable$.subscribe(i=>{localStorage.setItem(n.LOCAL_STORAGE_KEY,JSON.stringify(i))})}initalizeStorage(){var e=this;return(0,V.Z)(function*(){let i=e.getDataFromLocalStorage();(null==i||0===i.length)&&(console.log("Loading from CSV"),i=yield e.loadFromCSV()),e.dataSubject.next(i.filter(r=>void 0!==r))})()}resetDataToCSV(){var e=this;return(0,V.Z)(function*(){e.dataSubject.next(yield e.loadFromCSV())})()}resetDataToLocal(){var e=this;return(0,V.Z)(function*(){let i=e.getDataFromLocalStorage();e.dataSubject.next(i)})()}loadFromCSV(){var e=this;return(0,V.Z)(function*(){try{const i=yield function Dt(n,o){const e="object"==typeof o;return new Promise((i,r)=>{const l=new Ft.Hp({next:c=>{i(c),l.unsubscribe()},error:r,complete:()=>{e?i(o.defaultValue):r(new vt.K)}});n.subscribe(l)})}(e.http.get("assets/db.csv",{responseType:"text"}));let r=[];return tt.parse(i,{complete:l=>{r=l.data.map(c=>{try{return new bt(c)}catch(u){console.error(u.message)}}),console.log("Data refreshed from CSV: ",r)},header:!0}),localStorage.setItem(n.LOCAL_STORAGE_KEY,JSON.stringify(r)),r}catch(i){return console.log(i),[]}})()}setData(e){this.dataSubject.next(e)}updateField(e,i,r){const c=this.dataSubject.value.filter(u=>void 0!==u).map(u=>u.id===e?{...u,[i]:r}:u);this.dataSubject.next(c)}saveToLocalStorage(){localStorage.setItem(n.LOCAL_STORAGE_KEY,JSON.stringify(this.dataSubject.value))}getDataFromLocalStorage(){const e=localStorage.getItem(n.LOCAL_STORAGE_KEY);if(e){const r=JSON.parse(e).map(l=>{try{return new bt(l)}catch(c){console.error(c.message)}});return console.log("Data refreshed from LocalStorage: ",r),r}return[]}}return n.LOCAL_STORAGE_KEY="ZUFORM_PLAYERS_TABLE",n.\u0275fac=function(e){return new(e||n)(t.LFG(Ct.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ot=Z(5412),et=Z(4859);let w=(()=>{class n{constructor(e,i){this.data=e,this.dialogRef=i,this.message="Are you sure?",this.confirmButtonText="Yes",this.cancelButtonText="No",e&&(this.message=e.message||this.message,e.buttonText&&(this.confirmButtonText=e.buttonText.ok||this.confirmButtonText,this.cancelButtonText=e.buttonText.cancel||this.cancelButtonText))}ngOnInit(){}onNoClick(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ot.WI),t.Y36(ot.so))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-confdialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],["mat-button","",3,"click"],["mat-button","",3,"mat-dialog-close"]],template:function(e,i){1&e&&(t.TgZ(0,"h2",0),t._uU(1,"Sicuro? Perderai i dati."),t.qZA(),t.TgZ(2,"mat-dialog-content",1)(3,"p"),t._uU(4),t.qZA()(),t.TgZ(5,"mat-dialog-actions")(6,"button",2),t.NdJ("click",function(){return i.onNoClick()}),t._uU(7,"No"),t.qZA(),t.TgZ(8,"button",3),t._uU(9,"Si"),t.qZA()()),2&e&&(t.xp6(4),t.Oqu(i.message),t.xp6(4),t.Q6J("mat-dialog-close",!0))},dependencies:[ot.ZT,ot.uh,ot.xY,ot.H8,et.lW]}),n})();var s=Z(4155),a=Z(2340);let m=(()=>{class n{constructor(){}fetchSheetData(e){return(0,V.Z)(function*(){const i=new Headers;i.append("Authorization","Bearer "+a.N.googleSheetSecret);const r=yield fetch(e,{method:"GET",headers:i});if(!r.ok)throw new Error("Network response was not ok");const l=yield r.json();return console.log("From Google Sheet: ",l.rose),l})()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var p=Z(7009),d=Z(7957),T=Z(3238),v=Z(9549),J=Z(4144),M=Z(4385),f=Z(266),q=Z(782),b=Z(3546),$=Z(7084),L=Z(6709),_=Z(3848),U=Z(1572),B=Z(4850),N=Z(8255);function j(n,o){if(1&n&&(t.TgZ(0,"button",18)(1,"span",1),t._UZ(2,"i",19),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",500-e.getColumnSum()," Rimasti ")}}function Q(n,o){if(1&n&&(t.TgZ(0,"button",20)(1,"span",1),t._UZ(2,"i",19),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",500-e.getColumnSum()," Rimasti ")}}function Y(n,o){1&n&&(t.TgZ(0,"th",21),t._uU(1," Nome "),t.qZA())}function g(n,o){if(1&n&&(t.TgZ(0,"td",22)(1,"b"),t._uU(2),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e.name)}}function S(n,o){if(1&n&&(t.TgZ(0,"td",23),t._uU(1," Giocatori: "),t.TgZ(2,"b"),t._uU(3),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.getCountSum())}}function O(n,o){1&n&&(t.TgZ(0,"th",21),t._uU(1," Ruolo "),t.qZA())}function P(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"button",25),t._uU(2),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e)}}function D(n,o){if(1&n&&(t.TgZ(0,"td",22),t.YNc(1,P,3,1,"ng-container",24),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngForOf",e.role_mantra.split(";"))}}function G(n,o){1&n&&t._UZ(0,"td",23)}function k(n,o){1&n&&(t.TgZ(0,"th",21),t._uU(1," Prezzo "),t.qZA())}function F(n,o){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.price," ")}}function nt(n,o){if(1&n&&(t.TgZ(0,"td",23),t._uU(1," Spesa: "),t.TgZ(2,"b"),t._uU(3),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.getColumnSum())}}function z(n,o){1&n&&(t.TgZ(0,"th",21),t._uU(1," Squadra "),t.qZA())}function at(n,o){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.team)}}function rt(n,o){1&n&&t._UZ(0,"td",23)}function K(n,o){1&n&&(t.TgZ(0,"th",21),t._uU(1," Rating "),t.qZA())}function E(n,o){if(1&n&&(t.TgZ(0,"button",25),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.rating)}}function R(n,o){if(1&n&&(t.TgZ(0,"button",32),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.rating)}}function dt(n,o){if(1&n&&(t.TgZ(0,"button",33),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.rating)}}function I(n,o){if(1&n&&(t.TgZ(0,"button",34),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.rating)}}function ht(n,o){if(1&n&&(t.TgZ(0,"button",35),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.rating)}}function st(n,o){if(1&n&&(t.TgZ(0,"button",36),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.rating)}}function ft(n,o){if(1&n&&(t.TgZ(0,"td",22),t.YNc(1,E,2,1,"button",26),t.YNc(2,R,2,1,"button",27),t.YNc(3,dt,2,1,"button",28),t.YNc(4,I,2,1,"button",29),t.YNc(5,ht,2,1,"button",30),t.YNc(6,st,2,1,"button",31),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf","A"===e.rating),t.xp6(1),t.Q6J("ngIf","A-"===e.rating),t.xp6(1),t.Q6J("ngIf","B"===e.rating),t.xp6(1),t.Q6J("ngIf","C"===e.rating),t.xp6(1),t.Q6J("ngIf","D"===e.rating),t.xp6(1),t.Q6J("ngIf","F"===e.rating)}}function lt(n,o){1&n&&t._UZ(0,"td",23)}function ct(n,o){1&n&&t._UZ(0,"tr",37)}function ut(n,o){1&n&&t._UZ(0,"tr",38)}function H(n,o){1&n&&(t.TgZ(0,"tr",39)(1,"td",40),t._uU(2,"No data with current filters"),t.qZA()())}function Zt(n,o){1&n&&t._UZ(0,"tr",41)}let X=(()=>{class n{constructor(e){this.cdr=e,this.lessDisplayedColumns=["name","role_mantra","team","price","rating"],this.data=[],this.dataSource=new y.by,this.players=[]}ngOnInit(){this.filterData()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.sort.active="price",this.dataSource.sort.direction="desc",this.dataSource.sort.sortChange.emit({active:this.sort.active,direction:this.sort.direction})}filterData(){this.players=this.data.slice().filter(e=>e.team_id===this.teamId),this.dataSource.data=this.players,this.cdr.detectChanges()}ngOnChanges(e){e.data&&this.data&&this.teamId&&this.filterData()}getCountSum(){return this.players.length}getColumnSum(){return this.players.map(e=>+e.price).reduce((e,i)=>e+i,0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-subtables"]],viewQuery:function(e,i){if(1&e&&(t.Gf(_t.NW,5),t.Gf(it.YE,5)),2&e){let r;t.iGM(r=t.CRH())&&(i.paginator=r.first),t.iGM(r=t.CRH())&&(i.sort=r.first)}},inputs:{data:"data",teamId:"teamId",teamName:"teamName"},features:[t.TTD],decls:40,vars:8,consts:[["color","primary","mat-raised-button","","mat-button",""],[1,"btn-inner--icon"],[1,"fas","fa-users"],["color","warn","mat-raised-button","","mat-button","",4,"ngIf"],["color","accent","mat-raised-button","","mat-button","",4,"ngIf"],["mat-table","","matSort","",1,"table","align-items-center","table-flush",3,"dataSource"],["matColumnDef","name"],["class","thead-light","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","role_mantra"],["matColumnDef","price"],["matColumnDef","team"],["matColumnDef","rating"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["class","mat-row","mat-footer-row","",4,"matFooterRowDef"],["color","warn","mat-raised-button","","mat-button",""],[1,"fas","fa-dollar-sign"],["color","accent","mat-raised-button","","mat-button",""],["mat-header-cell","","mat-sort-header","",1,"thead-light"],["mat-cell",""],["mat-footer-cell",""],[4,"ngFor","ngForOf"],["mat-raised-button","","mat-button","",1,"btn","btn-icon","btn-sm","btn-primary"],["class","btn btn-icon btn-sm btn-primary","mat-raised-button","","mat-button","",4,"ngIf"],["class","btn btn-icon btn-sm btn-info","mat-raised-button","","mat-button","",4,"ngIf"],["class","btn btn-icon btn-sm btn-success","mat-raised-button","","mat-button","",4,"ngIf"],["class","btn btn-icon btn-sm btn-secondary","mat-raised-button","","mat-button","",4,"ngIf"],["class","btn btn-icon btn-sm btn-warning","mat-raised-button","","mat-button","",4,"ngIf"],["class","btn btn-icon btn-sm btn-danger","mat-raised-button","","mat-button","",4,"ngIf"],["mat-raised-button","","mat-button","",1,"btn","btn-icon","btn-sm","btn-info"],["mat-raised-button","","mat-button","",1,"btn","btn-icon","btn-sm","btn-success"],["mat-raised-button","","mat-button","",1,"btn","btn-icon","btn-sm","btn-secondary"],["mat-raised-button","","mat-button","",1,"btn","btn-icon","btn-sm","btn-warning"],["mat-raised-button","","mat-button","",1,"btn","btn-icon","btn-sm","btn-danger"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],["mat-footer-row","",1,"mat-row"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"button",0)(4,"span",1),t._UZ(5,"i",2),t.qZA(),t._uU(6),t.qZA()(),t.TgZ(7,"mat-panel-description")(8,"button",0)(9,"span",1),t._UZ(10,"i",2),t.qZA(),t._uU(11),t.qZA(),t._uU(12," \xa0\xa0\xa0\xa0 "),t.YNc(13,j,4,1,"button",3),t.YNc(14,Q,4,1,"button",4),t.qZA()(),t.TgZ(15,"table",5),t.ynx(16,6),t.YNc(17,Y,2,0,"th",7),t.YNc(18,g,3,1,"td",8),t.YNc(19,S,4,1,"td",9),t.BQk(),t.ynx(20,10),t.YNc(21,O,2,0,"th",7),t.YNc(22,D,2,1,"td",8),t.YNc(23,G,1,0,"td",9),t.BQk(),t.ynx(24,11),t.YNc(25,k,2,0,"th",7),t.YNc(26,F,2,1,"td",8),t.YNc(27,nt,4,1,"td",9),t.BQk(),t.ynx(28,12),t.YNc(29,z,2,0,"th",7),t.YNc(30,at,2,1,"td",8),t.YNc(31,rt,1,0,"td",9),t.BQk(),t.ynx(32,13),t.YNc(33,K,2,0,"th",7),t.YNc(34,ft,7,6,"td",8),t.YNc(35,lt,1,0,"td",9),t.BQk(),t.YNc(36,ct,1,0,"tr",14),t.YNc(37,ut,1,0,"tr",15),t.YNc(38,H,3,0,"tr",16),t.YNc(39,Zt,1,0,"tr",17),t.qZA()()),2&e&&(t.xp6(6),t.hij(" ",i.teamName," "),t.xp6(5),t.hij(" ",i.getCountSum()," Giocatori "),t.xp6(2),t.Q6J("ngIf",i.getColumnSum()>450),t.xp6(1),t.Q6J("ngIf",i.getColumnSum()<=450),t.xp6(1),t.Q6J("dataSource",i.dataSource),t.xp6(21),t.Q6J("matHeaderRowDef",i.lessDisplayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.lessDisplayedColumns),t.xp6(2),t.Q6J("matFooterRowDef",i.lessDisplayedColumns))},dependencies:[pt.sg,pt.O5,y.BZ,y.fO,y.as,y.w1,y.Dz,y.nj,y.mD,y.Ke,y.ge,y.ev,y.yh,y.XQ,y.Gk,y.Q2,y.Ee,it.YE,it.nU,$.ib,$.yz,$.yK,$.u4,et.lW],styles:[".mat-row[_ngcontent-%COMP%], .mat-header-row[_ngcontent-%COMP%]{height:12px!important}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{padding:4px!important}.mat-table[_ngcontent-%COMP%]{font-size:8px}mat-card[_ngcontent-%COMP%]{width:100%;overflow:scroll}.mat-expansion-panel-header[_ngcontent-%COMP%]{max-height:45px}.mat-raised-button[_ngcontent-%COMP%], .mat-flat-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%], .mat-button[_ngcontent-%COMP%]{width:150px!important;line-height:21px!important;padding:0 4px!important;margin:4px!important}"]}),n})();const Ut=["inputmine"],St=["inputadder"],Et=["inputprice"],kt=["inputteam"];function Rt(n,o){1&n&&(t.TgZ(0,"div",102),t._UZ(1,"mat-spinner"),t.qZA())}function Pt(n,o){1&n&&(t.TgZ(0,"span",9),t._UZ(1,"i",98),t._uU(2," Vista Complessiva Squadre"),t.qZA())}function Jt(n,o){if(1&n&&(t.TgZ(0,"mat-accordion",103),t._UZ(1,"app-subtables",104),t.qZA()),2&n){const e=o.$implicit,i=t.oxw();t.xp6(1),t.Q6J("data",i.playersLoaded)("teamId",e)("teamName",i.getTeamName(e))}}function Qt(n,o){1&n&&(t.TgZ(0,"span",9),t._UZ(1,"i",105),t._uU(2," Listone - Assegnazione Giocatori"),t.qZA())}function Yt(n,o){if(1&n&&(t.TgZ(0,"button",106),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.amountRemaining," ")}}function Lt(n,o){if(1&n&&(t.TgZ(0,"button",107),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.amountRemaining," ")}}function Bt(n,o){1&n&&(t.TgZ(0,"h5")(1,"span",9),t._UZ(2,"i",109),t.qZA(),t._uU(3,"Compra altri giocatori per avere suggerimenti! "),t.qZA())}function jt(n,o){if(1&n&&(t.TgZ(0,"button",111),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e," ")}}function $t(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1," mancano "),t.YNc(2,jt,2,1,"button",110),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.Q6J("ngForOf",e.missingRoles)}}function Gt(n,o){if(1&n&&(t.TgZ(0,"button",113),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.role," ")}}function Vt(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1," non bastano "),t.YNc(2,Gt,2,1,"button",112),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.Q6J("ngForOf",e.rolesToBuy)}}function Wt(n,o){1&n&&(t.TgZ(0,"span"),t._uU(1," hai tutti i ruoli che ti servono! "),t.qZA())}function zt(n,o){if(1&n&&(t.TgZ(0,"h5"),t._uU(1," \xa0\xa0\xa0\xa0"),t.TgZ(2,"span",9),t._UZ(3,"i",109),t.qZA(),t._uU(4," Per il "),t.TgZ(5,"button",107),t._uU(6),t.qZA(),t.YNc(7,$t,3,1,"span",108),t.YNc(8,Vt,3,1,"span",108),t.YNc(9,Wt,2,0,"span",108),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(6),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngIf",e.missingRoles&&e.missingRoles.length>0),t.xp6(1),t.Q6J("ngIf",e.rolesToBuy&&e.rolesToBuy.length>0),t.xp6(1),t.Q6J("ngIf",0===e.rolesToBuy.length&&e.missingRoles&&0===e.missingRoles.length)}}function Kt(n,o){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,Bt,4,0,"h5",108),t.YNc(2,zt,10,4,"h5",108),t.qZA()),2&n){const e=o.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",!i.isFormationSuggestable(e)),t.xp6(1),t.Q6J("ngIf",i.isFormationSuggestable(e))}}function Ht(n,o){if(1&n&&(t.TgZ(0,"mat-option",27),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Xt(n,o){if(1&n&&(t.TgZ(0,"mat-option",27),t._uU(1),t.qZA()),2&n){const e=o.$implicit,i=t.oxw(2);t.Q6J("value",e),t.xp6(1),t.hij(" ",i.getDistinctTeams()[e]," ")}}function te(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"form",16)(1,"mat-form-field",28)(2,"mat-label"),t._uU(3,"Giocatore..."),t.qZA(),t.TgZ(4,"input",114,115),t.NdJ("input",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.filterAdder())})("focus",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.filterAdder())}),t.qZA(),t.TgZ(6,"mat-autocomplete",31,116),t.NdJ("optionSelected",function(r){t.CHM(e);const l=t.oxw();return t.KtG(l.onPlayerToAddSelected(r))}),t.YNc(8,Ht,2,2,"mat-option",26),t.qZA()(),t.TgZ(9,"mat-form-field",117)(10,"mat-label"),t._uU(11,"Prezzo pagato"),t.qZA(),t._UZ(12,"input",118,119),t.qZA(),t.TgZ(14,"mat-form-field",117)(15,"mat-label"),t._uU(16,"Team"),t.qZA(),t.TgZ(17,"mat-select",120,82),t.YNc(19,Xt,2,2,"mat-option",26),t.qZA()()()}if(2&n){const e=t.MAs(7),i=t.oxw();t.xp6(4),t.Q6J("formControl",i.myControlAdder)("matAutocomplete",e),t.xp6(4),t.Q6J("ngForOf",i.addPlayerAutocompleteOptions),t.xp6(4),t.Q6J("formControl",i.myControlAdderPrice),t.xp6(5),t.Q6J("formControl",i.myControlAdderTeam),t.xp6(2),t.Q6J("ngForOf",i.getDistinctTeamsKeysTeamsOnly())}}function ee(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"form",16)(1,"mat-form-field",117)(2,"mat-label"),t._uU(3,"Squadra"),t.qZA(),t.TgZ(4,"input",121),t.NdJ("ngModelChange",function(r){t.CHM(e);const l=t.oxw();return t.KtG(l.teamCandidate=r)}),t.qZA()(),t.TgZ(5,"mat-form-field",117)(6,"mat-label"),t._uU(7,"Rating"),t.qZA(),t.TgZ(8,"input",122),t.NdJ("ngModelChange",function(r){t.CHM(e);const l=t.oxw();return t.KtG(l.ratingCandidate=r)}),t.qZA()(),t.TgZ(9,"mat-form-field",117)(10,"mat-label"),t._uU(11,"Ruolo"),t.qZA(),t.TgZ(12,"input",123),t.NdJ("ngModelChange",function(r){t.CHM(e);const l=t.oxw();return t.KtG(l.roleCandidate=r)}),t.qZA()(),t.TgZ(13,"button",97),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onOptionSelectedAdder())}),t._uU(14," Aggiungilo alla Squadra! "),t.TgZ(15,"span",9),t._UZ(16,"i",124),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.teamCandidate),t.xp6(4),t.Q6J("ngModel",e.ratingCandidate),t.xp6(4),t.Q6J("ngModel",e.roleCandidate)}}function ne(n,o){if(1&n&&(t.TgZ(0,"mat-option",27),t._uU(1),t.qZA()),2&n){const e=o.$implicit,i=t.oxw();t.Q6J("value",e),t.xp6(1),t.hij(" ",i.getDistinctTeams()[e]," ")}}function ie(n,o){if(1&n&&(t.TgZ(0,"mat-option",27),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function oe(n,o){if(1&n&&(t.TgZ(0,"mat-option",27),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function ae(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-select",25),t.NdJ("selectionChange",function(r){t.CHM(e);const l=t.oxw();return t.KtG(l.filterByColumnValue(r.value))}),t.YNc(1,oe,2,2,"mat-option",26),t.TgZ(2,"mat-option",35)(3,"b"),t._uU(4,"Qualsiasi"),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("formControl",e.inputrolesrc),t.xp6(1),t.Q6J("ngForOf",e.DISTINCT_ROLES)}}function re(n,o){if(1&n&&(t.TgZ(0,"mat-option",27),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function se(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-select",25),t.NdJ("selectionChange",function(r){t.CHM(e);const l=t.oxw();return t.KtG(l.filterByColumnValue(r.value))}),t.YNc(1,re,2,2,"mat-option",26),t.TgZ(2,"mat-option",35)(3,"b"),t._uU(4,"Qualsiasi"),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("formControl",e.inputrolesrc),t.xp6(1),t.Q6J("ngForOf",e.DISTINCT_ROLES)}}function le(n,o){if(1&n&&(t.TgZ(0,"mat-option",27),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function ce(n,o){if(1&n&&(t.TgZ(0,"mat-option",27),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function ue(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",125),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.editAllSelected("team_id",l))}),t._uU(1),t.qZA()}if(2&n){const e=o.$implicit,i=t.oxw();t.xp6(1),t.hij(" ",i.getDistinctTeams()[e]," ")}}function me(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",125),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.editAllSelected("rating",l))}),t._uU(1),t.qZA()}if(2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e," ")}}function pe(n,o){1&n&&t._UZ(0,"th",126)}function _e(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",129)(1,"button",97),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,l=t.oxw();return t.KtG(l.editField(r))}),t.TgZ(2,"span",9),t._UZ(3,"i",130),t.qZA()()()}}function de(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",129)(1,"button",17),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,l=t.oxw();return t.KtG(l.editField(r))}),t.TgZ(2,"span",9),t._UZ(3,"i",131),t.qZA()()()}}function fe(n,o){if(1&n&&(t.TgZ(0,"td",127),t.YNc(1,_e,4,0,"div",128),t.YNc(2,de,4,0,"div",128),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.isEdit),t.xp6(1),t.Q6J("ngIf",!e.isEdit)}}function he(n,o){1&n&&t._UZ(0,"td",132)}function ge(n,o){1&n&&(t.TgZ(0,"th",126),t._uU(1," Libero "),t.qZA())}function be(n,o){1&n&&(t.TgZ(0,"button",136)(1,"span",9),t._UZ(2,"i",137),t.qZA()())}function Te(n,o){if(1&n&&(t.TgZ(0,"button",113)(1,"span",9),t._UZ(2,"i",138),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(3),t.hij(" ",i.getTeamName(e.team_id)," ")}}function Ce(n,o){if(1&n&&(t.TgZ(0,"button",111)(1,"span",9),t._UZ(2,"i",139),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(3),t.hij(" ",i.getTeamName(e.team_id)," ")}}function xe(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,be,3,0,"button",133),t.YNc(2,Te,4,1,"button",134),t.YNc(3,Ce,4,1,"button",135),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",0===e.team_id),t.xp6(1),t.Q6J("ngIf",1===e.team_id),t.xp6(1),t.Q6J("ngIf",0!==e.team_id&&1!==e.team_id)}}function Ze(n,o){if(1&n&&(t.TgZ(0,"mat-option",27),t._uU(1),t.qZA()),2&n){const e=o.$implicit,i=t.oxw(3);t.Q6J("value",e),t.xp6(1),t.hij(" ",i.getDistinctTeams()[e]," ")}}function ye(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"mat-form-field",140)(2,"mat-label"),t._uU(3,"Squadra Mantra"),t.qZA(),t.TgZ(4,"mat-select",141),t.NdJ("ngModelChange",function(r){t.CHM(e);const l=t.oxw().$implicit;return t.KtG(l.team_id=r)}),t.YNc(5,Ze,2,2,"mat-option",26),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(4),t.Q6J("ngModel",e.team_id),t.xp6(1),t.Q6J("ngForOf",i.getDistinctTeamsKeys())}}function ve(n,o){if(1&n&&(t.TgZ(0,"td",127),t.YNc(1,xe,4,3,"div",108),t.YNc(2,ye,6,2,"div",108),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",!e.isEdit),t.xp6(1),t.Q6J("ngIf",e.isEdit)}}function Ae(n,o){1&n&&t._UZ(0,"td",132)}function Se(n,o){1&n&&(t.TgZ(0,"th",126),t._uU(1," Nome "),t.qZA())}function we(n,o){if(1&n&&(t.TgZ(0,"td",127)(1,"b",142),t._uU(2),t.qZA()()),2&n){const e=o.$implicit,i=t.oxw();t.xp6(1),t.s9C("matTooltip",i.getMoreInformationTooltip(e)),t.xp6(1),t.Oqu(e.name)}}function Ie(n,o){if(1&n&&(t.TgZ(0,"td",132),t._uU(1," Giocatori: "),t.TgZ(2,"b"),t._uU(3),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.getCountSum())}}function De(n,o){1&n&&(t.TgZ(0,"th",126),t._uU(1," Squadra "),t.qZA())}function Ue(n,o){if(1&n&&(t.TgZ(0,"td",127),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.team)}}function Ne(n,o){1&n&&t._UZ(0,"td",132)}function Fe(n,o){1&n&&(t.TgZ(0,"th",126)(1,"span",143),t._uU(2,"Ruolo"),t.qZA()())}function Me(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"button",113),t._uU(2),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",e," ")}}function qe(n,o){if(1&n&&(t.TgZ(0,"td",127),t.YNc(1,Me,3,1,"ng-container",14),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngForOf",e.best_role_mantra.split(";"))}}function Oe(n,o){1&n&&t._UZ(0,"td",132)}function Ee(n,o){1&n&&(t.TgZ(0,"th",144),t._uU(1," Ruolo "),t.qZA())}function ke(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"button",113),t._uU(2),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",e," ")}}function Re(n,o){if(1&n&&(t.TgZ(0,"td",127),t.YNc(1,ke,3,1,"ng-container",14),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngForOf",e.role_mantra.split(";"))}}function Pe(n,o){1&n&&t._UZ(0,"td",132)}function Je(n,o){1&n&&(t.TgZ(0,"th",126),t._uU(1," Stima "),t.qZA())}function Qe(n,o){if(1&n&&(t.TgZ(0,"td",127)(1,"div"),t._uU(2),t.qZA()()),2&n){const e=o.$implicit,i=t.oxw();t.xp6(2),t.hij(" ",i.getPriceEstimation(e.value_mantra_1000)," ")}}function Ye(n,o){1&n&&t._UZ(0,"td",132)}function Le(n,o){1&n&&(t.TgZ(0,"th",126),t._uU(1," Prezzo "),t.qZA())}function Be(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.price," ")}}function je(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Only numbers are allowed. "),t.qZA())}function $e(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"mat-form-field",145)(2,"input",146,147),t.NdJ("ngModelChange",function(r){t.CHM(e);const l=t.oxw().$implicit;return t.KtG(l.price=r)}),t.qZA(),t.YNc(4,je,2,0,"mat-error",108),t.qZA()()}if(2&n){const e=t.MAs(3),i=t.oxw().$implicit,r=t.oxw();t.xp6(2),t.Q6J("type",r.number)("ngModel",i.price),t.xp6(2),t.Q6J("ngIf",null==e.errors?null:e.errors.pattern)}}function Ge(n,o){if(1&n&&(t.TgZ(0,"td",127),t.YNc(1,Be,2,1,"div",108),t.YNc(2,$e,5,3,"div",108),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",!e.isEdit),t.xp6(1),t.Q6J("ngIf",e.isEdit)}}function Ve(n,o){1&n&&t._UZ(0,"td",132)}function We(n,o){1&n&&(t.TgZ(0,"th",126),t._uU(1," Rating "),t.qZA())}function ze(n,o){if(1&n&&(t.TgZ(0,"button",113),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.rating," ")}}function Ke(n,o){if(1&n&&(t.TgZ(0,"button",113),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.rating," ")}}function He(n,o){if(1&n&&(t.TgZ(0,"button",136),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.rating," ")}}function Xe(n,o){if(1&n&&(t.TgZ(0,"button",136),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.rating," ")}}function tn(n,o){if(1&n&&(t.TgZ(0,"button",111),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.rating," ")}}function en(n,o){if(1&n&&(t.TgZ(0,"button",111),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.rating," ")}}function nn(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,ze,2,1,"button",134),t.YNc(2,Ke,2,1,"button",134),t.YNc(3,He,2,1,"button",133),t.YNc(4,Xe,2,1,"button",133),t.YNc(5,tn,2,1,"button",135),t.YNc(6,en,2,1,"button",135),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf","A"===e.rating),t.xp6(1),t.Q6J("ngIf","A-"===e.rating),t.xp6(1),t.Q6J("ngIf","B"===e.rating),t.xp6(1),t.Q6J("ngIf","C"===e.rating),t.xp6(1),t.Q6J("ngIf","D"===e.rating),t.xp6(1),t.Q6J("ngIf","F"===e.rating)}}function on(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"mat-form-field",145)(2,"mat-label"),t._uU(3,"Rating"),t.qZA(),t.TgZ(4,"mat-select",141),t.NdJ("ngModelChange",function(r){t.CHM(e);const l=t.oxw().$implicit;return t.KtG(l.rating=r)}),t._UZ(5,"mat-option",35),t.TgZ(6,"mat-option",148),t._uU(7,"A"),t.qZA(),t.TgZ(8,"mat-option",149),t._uU(9,"A-"),t.qZA(),t.TgZ(10,"mat-option",150),t._uU(11,"B"),t.qZA(),t.TgZ(12,"mat-option",151),t._uU(13,"C"),t.qZA(),t.TgZ(14,"mat-option",152),t._uU(15,"D"),t.qZA(),t.TgZ(16,"mat-option",153),t._uU(17,"F"),t.qZA()()()()}if(2&n){const e=t.oxw().$implicit;t.xp6(4),t.Q6J("ngModel",e.rating)}}function an(n,o){if(1&n&&(t.TgZ(0,"td",127),t.YNc(1,nn,7,6,"div",108),t.YNc(2,on,18,1,"div",108),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",!e.isEdit),t.xp6(1),t.Q6J("ngIf",e.isEdit)}}function rn(n,o){1&n&&t._UZ(0,"td",132)}function sn(n,o){1&n&&(t.TgZ(0,"th",144),t._uU(1," INFO "),t.qZA())}function ln(n,o){if(1&n&&(t.TgZ(0,"button",161)(1,"span",9),t._UZ(2,"i",162),t.qZA()()),2&n){const e=t.oxw().$implicit;t.MGl("matTooltip","Titolare (",e.first_team,")")}}function cn(n,o){if(1&n&&(t.TgZ(0,"button",163)(1,"span",9),t._UZ(2,"i",162),t.qZA()()),2&n){const e=t.oxw().$implicit;t.MGl("matTooltip","Abbastanza Titolare (",e.first_team,")")}}function un(n,o){1&n&&(t.TgZ(0,"button",164)(1,"span",9),t._UZ(2,"i",165),t.qZA()())}function mn(n,o){1&n&&(t.TgZ(0,"button",166)(1,"span",9),t._UZ(2,"i",167),t.qZA()())}function pn(n,o){if(1&n&&(t.TgZ(0,"button",168)(1,"span",9),t._UZ(2,"i",169),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw().$implicit;t.MGl("matTooltip"," ",e.gk,"\xb0 Portiere "),t.xp6(3),t.hij(" ",e.gk," ")}}function _n(n,o){if(1&n&&(t.TgZ(0,"button",170)(1,"span",9),t._UZ(2,"i",169),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw().$implicit;t.MGl("matTooltip"," ",e.gk,"\xb0 Portiere "),t.xp6(3),t.hij(" ",e.gk," ")}}function dn(n,o){if(1&n&&(t.TgZ(0,"button",171)(1,"span",9),t._UZ(2,"i",172),t.qZA()()),2&n){const e=t.oxw().$implicit;t.MGl("matTooltip","Injured for ",e.injured," days")}}function fn(n,o){if(1&n&&(t.TgZ(0,"td",127),t.YNc(1,ln,3,1,"button",154),t.YNc(2,cn,3,1,"button",155),t.YNc(3,un,3,0,"button",156),t.YNc(4,mn,3,0,"button",157),t.YNc(5,pn,4,2,"button",158),t.YNc(6,_n,4,2,"button",159),t.YNc(7,dn,3,1,"button",160),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.first_team>=8),t.xp6(1),t.Q6J("ngIf",e.first_team<8&&e.first_team>=5),t.xp6(1),t.Q6J("ngIf","Y"===e.penalty_taker),t.xp6(1),t.Q6J("ngIf","Y"===e.free_kick_taker),t.xp6(1),t.Q6J("ngIf","Por"===e.role_mantra&&1===e.gk),t.xp6(1),t.Q6J("ngIf","Por"===e.role_mantra&&e.gk>1),t.xp6(1),t.Q6J("ngIf",e.injured>0)}}function hn(n,o){1&n&&t._UZ(0,"td",132)}function gn(n,o){1&n&&t._UZ(0,"tr",173)}function bn(n,o){1&n&&t._UZ(0,"tr",174)}function Tn(n,o){1&n&&(t.TgZ(0,"tr",175)(1,"td",176),t._uU(2," No data with current filters "),t.qZA()())}function Cn(n,o){1&n&&t._UZ(0,"tr",177)}function xn(n,o){1&n&&(t.TgZ(0,"span",9),t._UZ(1,"i",178),t._uU(2," Analisi Squadra Attuale"),t.qZA())}function Zn(n,o){if(1&n&&(t.TgZ(0,"mat-option",27),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function yn(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"b")(2,"button",111),t._uU(3),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",e.assignedRole," ")}}function vn(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"b")(2,"button",136),t._uU(3),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",e.assignedRole," ")}}function An(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"b")(2,"button",171),t._uU(3),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hYB("matTooltip","Sarebbe meglio schierare ",e.name," come ",e.best_role_mantra,""),t.xp6(1),t.hij(" ",e.assignedRole," ")}}function Sn(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"b"),t._uU(2),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.name)}}function wn(n,o){1&n&&(t.TgZ(0,"td",180),t._UZ(1,"b"),t.qZA())}function In(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"b"),t._uU(2),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.team)}}function Dn(n,o){1&n&&(t.TgZ(0,"td",180),t._UZ(1,"b"),t.qZA())}function Un(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"button",113),t._uU(2),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",e," ")}}function Nn(n,o){if(1&n&&(t.TgZ(0,"button",136),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.rating," ")}}function Fn(n,o){if(1&n&&(t.TgZ(0,"button",136),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.rating," ")}}function Mn(n,o){if(1&n&&(t.TgZ(0,"button",113),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.rating," ")}}function qn(n,o){if(1&n&&(t.TgZ(0,"button",113),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.rating," ")}}function On(n,o){if(1&n&&(t.TgZ(0,"button",111),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.rating," ")}}function En(n,o){if(1&n&&(t.TgZ(0,"button",111),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.rating," ")}}function kn(n,o){if(1&n&&(t.TgZ(0,"tr"),t.YNc(1,yn,4,1,"td",181),t.YNc(2,vn,4,1,"td",181),t.YNc(3,An,4,3,"td",181),t.YNc(4,Sn,3,1,"td",181),t.YNc(5,wn,2,0,"td",181),t.YNc(6,In,3,1,"td",181),t.YNc(7,Dn,2,0,"td",181),t.TgZ(8,"td",180),t.YNc(9,Un,3,1,"ng-container",14),t.qZA(),t.TgZ(10,"td",180),t.YNc(11,Nn,2,1,"button",133),t.YNc(12,Fn,2,1,"button",133),t.YNc(13,Mn,2,1,"button",134),t.YNc(14,qn,2,1,"button",134),t.YNc(15,On,2,1,"button",135),t.YNc(16,En,2,1,"button",135),t.qZA(),t.TgZ(17,"td",180),t._uU(18),t.qZA()()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",-1===e.id),t.xp6(1),t.Q6J("ngIf",-1!==e.id&&e.best_role_mantra===e.assignedRole),t.xp6(1),t.Q6J("ngIf",-1!==e.id&&e.best_role_mantra!==e.assignedRole),t.xp6(1),t.Q6J("ngIf",-1!==e.id),t.xp6(1),t.Q6J("ngIf",-1===e.id),t.xp6(1),t.Q6J("ngIf",-1!==e.id),t.xp6(1),t.Q6J("ngIf",-1===e.id),t.xp6(2),t.Q6J("ngForOf",e.best_role_mantra.split(";")),t.xp6(2),t.Q6J("ngIf","A"===e.rating),t.xp6(1),t.Q6J("ngIf","A-"===e.rating),t.xp6(1),t.Q6J("ngIf","B"===e.rating),t.xp6(1),t.Q6J("ngIf","C"===e.rating),t.xp6(1),t.Q6J("ngIf","D"===e.rating),t.xp6(1),t.Q6J("ngIf","F"===e.rating),t.xp6(2),t.Oqu(e.price)}}function Rn(n,o){if(1&n&&(t.TgZ(0,"table",179)(1,"tr")(2,"th",180),t._uU(3,"Ruolo Formazione"),t.qZA(),t.TgZ(4,"th",180),t._uU(5,"Giocatore"),t.qZA(),t.TgZ(6,"th",180),t._uU(7,"Squadra"),t.qZA(),t.TgZ(8,"th",180),t._uU(9,"Ruolo Giocatore"),t.qZA(),t.TgZ(10,"th",180),t._uU(11,"Rating"),t.qZA(),t.TgZ(12,"th",180),t._uU(13,"Spesa"),t.qZA()(),t.YNc(14,kn,19,15,"tr",14),t.qZA()),2&n){const e=t.oxw();t.xp6(14),t.Q6J("ngForOf",e.getBestEleven())}}function Pn(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"button",161)(2,"span",9),t._UZ(3,"i",137),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.MGl("matTooltip","Rating: ",e.value,"")}}function Jn(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"button",163)(2,"span",9),t._UZ(3,"i",182),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.MGl("matTooltip","Rating: ",e.value,"")}}function Qn(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"button",171)(2,"span",9),t._UZ(3,"i",183),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.MGl("matTooltip","Rating: ",e.value,"")}}function Yn(n,o){if(1&n&&(t.TgZ(0,"b"),t._uU(1," \xa0"),t.TgZ(2,"button",111),t._uU(3),t.qZA()()),2&n){const e=o.$implicit;t.xp6(3),t.hij(" ",e," ")}}function Ln(n,o){if(1&n&&(t.TgZ(0,"td",180),t.YNc(1,Yn,4,1,"b",14),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.missingRoles)}}function Bn(n,o){1&n&&(t.TgZ(0,"td",180)(1,"b"),t._uU(2," \xa0"),t.TgZ(3,"button",111),t._uU(4," Molti "),t.qZA()()())}function jn(n,o){1&n&&(t.TgZ(0,"td",180)(1,"button",113),t._uU(2," Nessuno "),t.qZA()())}function $n(n,o){if(1&n&&(t.TgZ(0,"b"),t._uU(1," \xa0"),t.TgZ(2,"button",136),t._uU(3),t.qZA()()),2&n){const e=o.$implicit;t.xp6(3),t.hij(" ",e.role," ")}}function Gn(n,o){if(1&n&&(t.TgZ(0,"td",180),t.YNc(1,$n,4,1,"b",14),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.rolesToBuy)}}function Vn(n,o){1&n&&(t.TgZ(0,"td",180)(1,"button",111),t._uU(2," Molti "),t.qZA()())}function Wn(n,o){1&n&&(t.TgZ(0,"td",180)(1,"button",136),t._uU(2," Nessuno "),t.qZA()())}function zn(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td",180)(2,"b"),t._uU(3),t.qZA()(),t.YNc(4,Pn,4,1,"td",181),t.YNc(5,Jn,4,1,"td",181),t.YNc(6,Qn,4,1,"td",181),t.YNc(7,Ln,2,1,"td",181),t.YNc(8,Bn,5,0,"td",181),t.YNc(9,jn,3,0,"td",181),t.YNc(10,Gn,2,1,"td",181),t.YNc(11,Vn,3,0,"td",181),t.YNc(12,Wn,3,0,"td",181),t.qZA()),2&n){const e=o.$implicit;t.xp6(3),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",e.value>=8),t.xp6(1),t.Q6J("ngIf",e.value<8&&e.value>=4),t.xp6(1),t.Q6J("ngIf",e.value<7),t.xp6(1),t.Q6J("ngIf",e.missingRoles.length>0&&e.missingRoles.length<4),t.xp6(1),t.Q6J("ngIf",e.missingRoles.length>=4),t.xp6(1),t.Q6J("ngIf",0===e.missingRoles.length),t.xp6(1),t.Q6J("ngIf",e.rolesToBuy.length>0&&e.rolesToBuy.length<4),t.xp6(1),t.Q6J("ngIf",e.rolesToBuy.length>=4||e.missingRoles.length>=4),t.xp6(1),t.Q6J("ngIf",0===e.rolesToBuy.length&&e.missingRoles.length<4)}}function Kn(n,o){if(1&n&&(t.TgZ(0,"table",179)(1,"tr")(2,"th",180),t._uU(3,"Formazione"),t.qZA(),t.TgZ(4,"th",180),t._uU(5,"Usabile"),t.qZA(),t.TgZ(6,"th",180),t._uU(7,"Ruoli Mancanti"),t.qZA(),t.TgZ(8,"th",180),t._uU(9,"Ruoli Da Comprare"),t.qZA()(),t.YNc(10,zn,13,10,"tr",14),t.qZA()),2&n){const e=t.oxw();t.xp6(10),t.Q6J("ngForOf",e.computedFormations)}}function Hn(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"button",113)(2,"span",9),t._UZ(3,"i",137),t._uU(4),t.qZA()()()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.hij(" ",i.roleInfo[e].remaining,"")}}function Xn(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"button",136)(2,"span",9),t._UZ(3,"i",184),t._uU(4),t.qZA()()()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.hij(" ",i.roleInfo[e].remaining,"")}}function ti(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"button",111)(2,"span",9),t._UZ(3,"i",185),t._uU(4),t.qZA()()()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.hij(" ",i.roleInfo[e].remaining,"")}}function ei(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"button",113)(2,"span",9),t._UZ(3,"i",137),t._uU(4),t.qZA()()()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.hij(" ",i.roleInfo[e].all,"")}}function ni(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"button",136)(2,"span",9),t._UZ(3,"i",182),t._uU(4),t.qZA()()()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.hij(" ",i.roleInfo[e].all,"")}}function ii(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"button",111)(2,"span",9),t._UZ(3,"i",183),t._uU(4),t.qZA()()()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.hij(" ",i.roleInfo[e].all,"")}}function oi(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"button",113)(2,"span",9),t._UZ(3,"i",137),t._uU(4),t.qZA()()()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.hij(" ",i.roleInfo[e].allRole,"")}}function ai(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"button",136)(2,"span",9),t._UZ(3,"i",182),t._uU(4),t.qZA()()()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.hij(" ",i.roleInfo[e].allRole,"")}}function ri(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"button",111)(2,"span",9),t._UZ(3,"i",183),t._uU(4),t.qZA()()()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.hij(" ",i.roleInfo[e].allRole,"")}}function si(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"button",113)(2,"span",9),t._UZ(3,"i",137),t._uU(4),t.qZA()()()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.hij(" ",i.roleInfo[e].firstTeam,"")}}function li(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"button",136)(2,"span",9),t._UZ(3,"i",182),t._uU(4),t.qZA()()()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.hij(" ",i.roleInfo[e].firstTeam,"")}}function ci(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"button",111)(2,"span",9),t._UZ(3,"i",183),t._uU(4),t.qZA()()()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.hij(" ",i.roleInfo[e].firstTeam,"")}}function ui(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"button",113)(2,"span",9),t._UZ(3,"i",137),t._uU(4),t.qZA()()()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.hij(" ",i.roleInfo[e].good,"")}}function mi(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"button",136)(2,"span",9),t._UZ(3,"i",182),t._uU(4),t.qZA()()()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.hij(" ",i.roleInfo[e].good,"")}}function pi(n,o){if(1&n&&(t.TgZ(0,"td",180)(1,"button",111)(2,"span",9),t._UZ(3,"i",183),t._uU(4),t.qZA()()()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.hij(" ",i.roleInfo[e].good,"")}}function _i(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td",180)(2,"b"),t._uU(3),t.qZA()(),t.YNc(4,Hn,5,1,"td",181),t.YNc(5,Xn,5,1,"td",181),t.YNc(6,ti,5,1,"td",181),t.YNc(7,ei,5,1,"td",181),t.YNc(8,ni,5,1,"td",181),t.YNc(9,ii,5,1,"td",181),t.YNc(10,oi,5,1,"td",181),t.YNc(11,ai,5,1,"td",181),t.YNc(12,ri,5,1,"td",181),t.YNc(13,si,5,1,"td",181),t.YNc(14,li,5,1,"td",181),t.YNc(15,ci,5,1,"td",181),t.YNc(16,ui,5,1,"td",181),t.YNc(17,mi,5,1,"td",181),t.YNc(18,pi,5,1,"td",181),t.qZA()),2&n){const e=o.$implicit,i=t.oxw(2);t.xp6(3),t.Oqu(e),t.xp6(1),t.Q6J("ngIf",i.roleInfo[e].remaining>=3),t.xp6(1),t.Q6J("ngIf",2===i.roleInfo[e].remaining),t.xp6(1),t.Q6J("ngIf",i.roleInfo[e].remaining<=1),t.xp6(1),t.Q6J("ngIf",i.roleInfo[e].all>=3),t.xp6(1),t.Q6J("ngIf",i.roleInfo[e].all<3&&i.roleInfo[e].all>=1),t.xp6(1),t.Q6J("ngIf",i.roleInfo[e].all<1),t.xp6(1),t.Q6J("ngIf",i.roleInfo[e].allRole>=3),t.xp6(1),t.Q6J("ngIf",i.roleInfo[e].allRole<3&&i.roleInfo[e].allRole>=1),t.xp6(1),t.Q6J("ngIf",i.roleInfo[e].allRole<1),t.xp6(1),t.Q6J("ngIf",i.roleInfo[e].firstTeam>=3),t.xp6(1),t.Q6J("ngIf",i.roleInfo[e].firstTeam<3&&i.roleInfo[e].firstTeam>=1),t.xp6(1),t.Q6J("ngIf",i.roleInfo[e].firstTeam<1),t.xp6(1),t.Q6J("ngIf",i.roleInfo[e].good>=2),t.xp6(1),t.Q6J("ngIf",1===i.roleInfo[e].good),t.xp6(1),t.Q6J("ngIf",i.roleInfo[e].good<1)}}function di(n,o){if(1&n&&(t.TgZ(0,"table",179)(1,"tr")(2,"th",180),t._uU(3,"Ruolo"),t.qZA(),t.TgZ(4,"th",180),t._uU(5,"TOP Liberi"),t.qZA(),t.TgZ(6,"th",180),t._uU(7,"Tuoi"),t.qZA(),t.TgZ(8,"th",180),t._uU(9,"Di Ruolo"),t.qZA(),t.TgZ(10,"th",180),t._uU(11,"Titolari"),t.qZA(),t.TgZ(12,"th",180),t._uU(13,"B+"),t.qZA()(),t.YNc(14,_i,19,16,"tr",14),t.qZA()),2&n){const e=t.oxw();t.xp6(14),t.Q6J("ngForOf",e.getDistinctRoles())}}function fi(n,o){1&n&&(t.TgZ(0,"span",9),t._UZ(1,"i",186),t._uU(2," Admin"),t.qZA())}const hi=function(){return[35,50,75,100]};let gi=(()=>{class n{constructor(e,i,r,l,c){this.cdr=e,this.teamDataService=i,this.dialog=r,this._snackBar=l,this.googleSheetsService=c,this.loading=!1,this.DISTINCT_ROLES=["Por","Dc","Dd","Ds","E","M","C","W","T","A","Pc"],this.DISTINCT_TEAMS={0:"Senza Squadra",1:"OMagos",2:"Dano",3:"Greg",4:"Gio",5:"Fra",6:"Donzo",7:"Bot",8:"Riccardo"},this.FORMATIONS=[{name:"343",Por:1,Dc:3,Dd:0,Ds:0,E:2,M:0,C:2,W:0,T:0,A:2,Pc:1},{name:"4312",Por:1,Dc:2,Dd:1,Ds:1,E:0,M:1,C:2,W:0,T:1,A:0,Pc:2},{name:"3412",Por:1,Dc:3,Dd:0,Ds:0,E:2,M:0,C:2,W:0,T:1,A:0,Pc:2},{name:"442",Por:1,Dc:2,Dd:1,Ds:1,E:1,M:0,C:2,W:1,T:0,A:0,Pc:2},{name:"3421",Por:1,Dc:3,Dd:0,Ds:0,E:1,M:1,C:1,W:1,T:1,A:1,Pc:1},{name:"4141",Por:1,Dc:2,Dd:1,Ds:1,E:0,M:1,C:0,W:2,T:2,A:0,Pc:1},{name:"4231W",Por:1,Dc:2,Dd:1,Ds:1,E:0,M:1,C:1,W:1,T:1,A:1,Pc:1},{name:"4231T",Por:1,Dc:2,Dd:1,Ds:1,E:0,M:1,C:1,W:0,T:2,A:1,Pc:1},{name:"4411",Por:1,Dc:2,Dd:1,Ds:1,E:0,M:1,C:1,W:2,T:0,A:1,Pc:1},{name:"352",Por:1,Dc:3,Dd:0,Ds:0,E:1,M:1,C:2,W:1,T:0,A:0,Pc:2},{name:"3511",Por:1,Dc:3,Dd:0,Ds:0,E:0,M:2,C:1,W:2,T:0,A:1,Pc:1},{name:"433",Por:1,Dc:2,Dd:1,Ds:1,E:0,M:1,C:2,W:0,T:0,A:2,Pc:1}],this.sheetSource="",this.COLUMNS=[{columnDef:"isEdit",header:"",cell:u=>`${u.isEdit}`},{columnDef:"team_id",header:"Comprato",cell:u=>`${u.team_id}`},{columnDef:"name",header:"Nome",cell:u=>`${u.name}`},{columnDef:"team",header:"Squadra",cell:u=>`${u.team}`},{columnDef:"role_mantra",header:"Ruolo Mantra",cell:u=>`${u.role_mantra}`},{columnDef:"value_mantra_1000",header:"Valore 1000",cell:u=>`${u.value_mantra_1000}`},{columnDef:"price",header:"Prezzo",cell:u=>`${u.price}`},{columnDef:"rating",header:"Rating",cell:u=>`${u.rating}`},{columnDef:"first_team",header:"T",cell:u=>`${u.first_team}`}],this.SIMPLE_ROLE_COLUMNS=[{columnDef:"isEdit",header:"",cell:u=>`${u.isEdit}`},{columnDef:"team_id",header:"Comprato",cell:u=>`${u.team_id}`},{columnDef:"name",header:"Nome",cell:u=>`${u.name}`},{columnDef:"team",header:"Squadra",cell:u=>`${u.team}`},{columnDef:"best_role_mantra",header:"Ruolo Mantra",cell:u=>`${u.best_role_mantra}`},{columnDef:"value_mantra_1000",header:"Valore 1000",cell:u=>`${u.value_mantra_1000}`},{columnDef:"price",header:"Prezzo",cell:u=>`${u.price}`},{columnDef:"rating",header:"Rating",cell:u=>`${u.rating}`},{columnDef:"first_team",header:"T",cell:u=>`${u.first_team}`}],this.adderForm=!1,this.RATING_VALUES={A:1e4,"A-":1e3,B:100,C:10,D:5,F:0},this.playersLoaded=[],this.dataSource=new y.by(this.playersLoaded),this.displayedColumns=this.SIMPLE_ROLE_COLUMNS.map(u=>u.columnDef),this.formationNames=this.FORMATIONS.map(u=>u.name),this.displayedColumnsFormations=["name","value"],this.allPlayerNames=this.playersLoaded.map(u=>u.name),this.notSoldPlayerNames=this.playersLoaded.map(u=>u.name),this.groupByTeam=[],this.pieChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}},this.pieChartLabels=Object.keys(this.groupByTeam),this.pieChartDatasets=[{data:Object.values(this.groupByTeam),label:"this is an example"}],this.pieChartLegend=!0,this.pieChartPlugins=[],this.roleColumn="best_role_mantra",this.nameColumn="name",this.teamColumn="team",this.userColumn="team_id",this.ratingColumn="rating",this.valueColumn="value_mantra_1000",this.roleFilter="",this.nameFilter="",this.teamFilter="",this.ratingFilter="",this.valueFilter="",this.valueFilterMax="",this.userFilter=-1,this.areSimpleRoles=!0,this.firstTeamFilter=!1,this.penaltyTakerFilter=!1,this.freeKickTakerFilter=!1,this.injuredFilter=!0,this.formationChosen="442",this.myControl=new C.NI(""),this.myControlAdder=new C.NI(""),this.myControlAdderPrice=new C.NI(""),this.myControlAdderTeam=new C.NI(""),this.inputsquadsrc=new C.NI(-1),this.inputrolesrc=new C.NI(""),this.inputteamsrc=new C.NI(""),this.inputratingsrc=new C.NI("F"),this.inputvaluesrc=new C.NI(0),this.inputvaluemaxsrc=new C.NI(999),this.computedFormations=[],this.roleInfo={},this.dataSourceFormation=new y.by(this.computedFormations),this.addCandidate="",this.ratingCandidate="",this.roleCandidate="",this.teamCandidate="",this.cols=3,this.amountRemaining=500,this.bestFormationsFound=[{name:"",rolesToBuy:[]}],this.roleFilterPredicate=(u,h)=>u[this.roleColumn].includes(h),this.userFilterPredicate=(u,h)=>!(this.userFilter>=0&&this.userFilter<=8)||u[this.userColumn]===h,this.nameFilterPredicate=(u,h)=>u[this.nameColumn].trim().toLowerCase().includes(h),this.valueFilterPredicate=(u,h)=>(h=""===h?"0":h,Math.round(parseInt(u[this.valueColumn])/2)>=parseInt(h)),this.valueFilterMaxPredicate=(u,h)=>(h=""===h?"0":h,Math.round(parseInt(u[this.valueColumn])/2)<=parseInt(h)),this.teamFilterPredicate=(u,h)=>u[this.teamColumn]===h,this.ratingFilterPredicate=(u,h)=>this.RATING_VALUES[u[this.ratingColumn]]>=this.RATING_VALUES[h],this.infoFilterPredicate=(u,h,W,A,mt)=>(!h||u.first_team>=8===h)&&(!W||"Y"===u.penalty_taker===W)&&(!A||"Y"===u.free_kick_taker===A)&&(mt||u.injured>0===mt)}groupByAndCountRoles(e,i,r="F"){return e.flatMap(c=>c[i].split(";").map(h=>({...c,value:h}))).filter(c=>this.RATING_VALUES[c.rating]>=this.RATING_VALUES[r]).reduce((c,u)=>(c[u[i]]=(c[u[i]]||0)+1,c),{})}groupByAndCount(e,i,r="F"){return e.filter(l=>this.RATING_VALUES[l.rating]>=this.RATING_VALUES[r]).reduce((l,c)=>(l[c[i]]=(l[c[i]]||0)+1,l),{})}ngOnInit(){this.setColumns(),window.addEventListener("resize",()=>{this.setColumns()})}getDataFromSheets(){var e=this;return(0,V.Z)(function*(){let i=0;try{e.loading=!0;const l=(yield e.googleSheetsService.fetchSheetData(e.sheetSource)).rose.slice(3,37);console.log("Players found",l);for(let c of e.playersLoaded)e.addPlayer(c.name,c.price,0);for(let c of l)for(let u=1;u<9;u++)e.addPlayer(c[u.toString()],c[u.toString()+"Price"],u),i++;e.updateAnalyses()}catch(r){console.error("Error fetching data from Google Sheets:",r)}e.loading=!1,e.openSnackBar("Caricati giocatori da Google Sheets : "+i.toString(),"OK")})()}ngAfterViewInit(){this.dataSource=new y.by(this.playersLoaded),this.dataSubscription=this.teamDataService.dataTable$.subscribe(e=>{this.playersLoaded=e.filter(i=>void 0!==i),this.dataSource.data=this.playersLoaded,this.allPlayerNames=this.playersLoaded.map(i=>i.name),this.searchFilterOptions=this.allPlayerNames.slice(),this.addPlayerAutocompleteOptions=this.allPlayerNames.slice(),this.dataSource.paginator=this.paginator,this.cdr.detectChanges()}),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.sort.active=this.valueColumn,this.sort.direction="desc",this.sort.sortChange.emit({active:this.sort.active,direction:this.sort.direction}),this.areSimpleRoles=!0,setTimeout(()=>{this.updateAnalyses()},100),this.cdr.detectChanges()}ngOnDestroy(){window.removeEventListener("resize",this.setColumns),this.dataSubscription&&this.dataSubscription.unsubscribe()}openConfirmationDialogLoadCSV(){this.dialog.open(w,{data:{message:"Sicuro di voler ricaricare i dati di default? Perderai i dati attuali.",buttonText:{ok:"Si",cancel:"No"}}}).afterClosed().subscribe(i=>{i&&(this.loadCSV(),setTimeout(()=>{this.updateAnalyses()},1e3))})}setColumns(){const e=window.innerWidth;this.cols=e<=900?1:e>900&&e<=1200?2:3}openSnackBar(e,i){this._snackBar.open(e,i)}openConfirmationDialogReloadTeams(){this.dialog.open(w,{data:{message:"Sicuro di voler ricreare tutte le squadre? Perderai i dati attuali.",buttonText:{ok:"Si",cancel:"No"}}}).afterClosed().subscribe(i=>{i&&this.addGoodTeam()})}updateBestEleven(){this.bestEleven=this.parseBestEleven()}getFormations(){return this.FORMATIONS}getBestEleven(){return this.bestEleven}onCheckboxChange(){this.areSimpleRoles?(this.displayedColumns=this.SIMPLE_ROLE_COLUMNS.map(e=>e.columnDef),this.roleColumn="best_role_mantra"):(this.displayedColumns=this.COLUMNS.map(e=>e.columnDef),this.roleColumn="role_mantra"),this.filterOptions(),this.aggregateFilters()}onFileChange(e){let i=e.target.files[0];tt.parse(i,{complete:r=>{const l=r.data.map(c=>{try{return new bt(c)}catch(u){console.error(u.message)}});console.log("Loaded From File: ",l),this.openSnackBar("Caricati "+l.length.toString()+" giocatori da "+i.name,"OK"),this.teamDataService.setData(l),this.filterOptions()},header:!0})}onPlayerToAddSelected(e){const i=e.option.value.trim().toLowerCase(),r=this.playersLoaded.find(l=>l.name.trim().toLowerCase()===i);this.addCandidate=i,this.ratingCandidate=r.rating,this.roleCandidate=r.role_mantra,this.teamCandidate=r.team}onOptionSelected(e){this.nameFilter=e.option.value.trim().toLowerCase(),this.myControl.setValue(e.option.value),this.aggregateFilters(),this.filterOptions()}openImageModal(){document.getElementById("imageModal").style.display="block"}closeImageModal(){document.getElementById("imageModal").style.display="none"}openImageModalPortieri(){document.getElementById("imageModalPortieri").style.display="block"}closeImageModalPortieri(){document.getElementById("imageModalPortieri").style.display="none"}selectMyTeamOnly(){this.deleteFilters(),this.userFilter=1,this.inputsquadsrc.setValue(1),this.aggregateFilters(),this.filterOptions()}deleteFilters(){this.roleFilter="",this.nameFilter="",this.teamFilter="",this.ratingFilter="F",this.valueFilter="",this.userFilter=-1,this.inputsquadsrc.setValue(-1),this.inputrolesrc.setValue(""),this.inputteamsrc.setValue(""),this.inputratingsrc.setValue(""),this.inputvaluesrc.setValue(0),this.inputvaluemaxsrc.setValue(999),this.myControl.setValue(""),this.areSimpleRoles=!0,this.firstTeamFilter=!1,this.penaltyTakerFilter=!1,this.freeKickTakerFilter=!1,this.injuredFilter=!0,this.aggregateFilters(),this.filterOptions()}getRandomElements(e,i){const r=[...e];for(let l=r.length-1;l>0;l--){const c=Math.floor(Math.random()*(l+1));[r[l],r[c]]=[r[c],r[l]]}return r.slice(0,i)}addGoodTeam(){var e=this;this.loading=!0,setTimeout((0,V.Z)(function*(){yield e.addTeam(),e.updateAnalyses(),e.loading=!1,e.openSnackBar("Team casuali creati","OK")}),0)}isFormationSuggestable(e){return!(void 0===e||void 0===e.missingRoles||e.missingRoles.length>=5)}addTeam(){var e=this;return(0,V.Z)(function*(){for(let i=0;i<e.playersLoaded.length;i++)e.playersLoaded[i].team_id=0;Object.keys(e.DISTINCT_TEAMS).forEach(function(){var i=(0,V.Z)(function*(r){yield e.createRandomTeamInternal(r)});return function(r){return i.apply(this,arguments)}}())})()}createRandomTeamInternal(e){var i=this;return(0,V.Z)(function*(){return new Promise(r=>{if("0"!==e){const l=[];i.DISTINCT_ROLES.forEach(c=>{l.push(...i.getRandomElements(i.playersLoaded.filter(u=>0===u.team_id).filter(u=>u.value_mantra_1000>=4).filter(u=>u.best_role_mantra.split(";")[0]===c),3))});for(let c=0;c<l.length;c++)i.addPlayer(l[c].name,Math.round(l[c].value_mantra_1000/2),parseInt(e))}setTimeout(()=>{r()},100)})})()}onOptionSelectedAdder(){const e=this.inputAdder.nativeElement.value,i=parseInt(""===this.inputPrice.nativeElement.value.trim()?"0":this.inputPrice.nativeElement.value);this.addPlayer(e,i,this.inputTeam.value),this.myControl.setValue(""),this.myControlAdder.setValue(""),this.myControlAdderPrice.setValue(""),this.myControlAdderTeam.setValue(""),this.filterOptions(),setTimeout(()=>{this.inputAdder.nativeElement.blur()})}addPlayer(e,i,r){let l=this.playersLoaded.find(c=>c.name===e);if(l){const c=l.id;this.teamDataService.updateField(c,"team_id",r),this.teamDataService.updateField(c,"price",i),this.filterOptions()}}getCountSum(){return this.dataSource.filteredData.length}getMoreInformationTooltip(e){return(e.played_2223>0?"22/23 | Giocate: "+e.played_2223+" Gol: "+e.goals_2223+" Assist: "+e.assist_2223+" Rigori: "+e.penalties_goals_2223+"/"+(e.penalties_goals_2223+e.penalties_failed_2223)+" FM:  "+e.average_2223+"  \n ":"22/23 | Non in Serie A \n")+(e.played_2122>0?"21/22 | Giocate: "+e.played_2122+" Gol: "+e.goals_2122+" Assist: "+e.assist_2122+" Rigori: "+e.penalties_goals_2122+"/"+(e.penalties_goals_2122+e.penalties_failed_2122)+" FM:  "+e.average_2122+"  \n ":"21/22 | Non in Serie A \n")+(e.played_2021>0?"20/21 | Giocate: "+e.played_2021+" Gol: "+e.goals_2021+" Assist: "+e.assist_2021+" Rigori: "+e.penalties_goals_2021+"/"+(e.penalties_goals_2021+e.penalties_failed_2021)+" FM:  "+e.average_2021+"  \n ":"20/21 | Non in Serie A \n")}getBestFormation(){if(void 0===this.bestFormationsFound)this.bestFormationsFound=[{name:"",rolesToBuy:[]}];else{this.bestFormationsFound=this.computedFormations.sort((e,i)=>i.value-e.value).slice(0,3);for(let e of this.bestFormationsFound){e.rolesToBuy=e.rolesToBuy.splice(0,5);for(let i of e.missingRoles)e.rolesToBuy=e.rolesToBuy.filter(r=>r.role!==i)}}}getRolesToBuy(){if(this.bestFormationsFound=this.computedFormations.reduce((e,i)=>i.value>e.value?i:e,this.computedFormations[0]),void 0===this.bestFormationsFound)return{name:"",rolesToBuy:[]};this.bestFormationsFound.rolesToBuy=this.bestFormationsFound.rolesToBuy.splice(0,3)}setEditableAllSelected(){this.dataSource.filteredData.length<=100?this.dataSource.filteredData.forEach(e=>{this.teamDataService.updateField(e.id,"isEdit",!0),this.filterOptions()}):this.openSnackBar("Filtra meno giocatori per procedere","OK")}unEditAll(){this.dataSource.data.filter(e=>e.isEdit).forEach(e=>{this.teamDataService.updateField(e.id,"isEdit",!1)}),this.filterOptions()}editAllSelected(e,i){this.dataSource.data.filter(r=>r.isEdit).forEach(r=>{"team_id"===e&&(this.teamDataService.updateField(r.id,e,parseInt(i)),this.teamDataService.updateField(r.id,"isEdit",!1)),"rating"===e&&(this.teamDataService.updateField(r.id,e,i),this.teamDataService.updateField(r.id,"isEdit",!1)),"price"===e&&(this.teamDataService.updateField(r.id,e,parseInt(i)),this.teamDataService.updateField(r.id,"isEdit",!1))}),this.filterOptions()}getMyAmountRemaining(){const e=this.dataSource.data.filter(i=>1===i.team_id).map(i=>+i.price).map(i=>isNaN(i)?0:i).filter(i=>!isNaN(i)).reduce((i,r)=>i+r,0);this.amountRemaining=500-e}getInfoPlayers(){const e=this.dataSource.data.filter(u=>1===u.team_id);return{injured:e.filter(u=>u.injured>0).length,firstTeam:e.filter(u=>u.first_team>=8).length,penaltyTakers:e.filter(u=>u.penalty_taker).length,stars:e.filter(u=>this.RATING_VALUES[u.rating]>this.RATING_VALUES.B).length}}getColumnSum(){return this.dataSource.filteredData.map(e=>+e.price).map(e=>isNaN(e)?0:e).filter(e=>!isNaN(e)).reduce((e,i)=>e+i,0)}filterOptions(){if(!this.loading){this.allPlayerNames=this.playersLoaded.slice().map(i=>i.name),this.notSoldPlayerNames=this.playersLoaded.slice().filter(i=>0===i.team_id).map(i=>i.name);const e=this.input.nativeElement.value.toLowerCase();this.searchFilterOptions=this.allPlayerNames.filter(i=>i.toLowerCase().includes(e)).sort(),this.cdr.detectChanges(),setTimeout(()=>{this.updateAnalyses()},100)}}updateAnalyses(){this.groupByTeam=this.updateGroupByTeamCount(),this.computedFormations=this.rateFormationsByPlayers(),this.roleInfo=this.evaluatePlayersInSquad(),this.bestEleven=this.parseBestEleven(),this.getMyAmountRemaining(),this.getBestFormation(),0===this.chart.chart.data.datasets.length||(this.chart.chart.data.datasets[0].data=Object.values(this.groupByTeam),this.chart.chart.data.labels=Object.keys(this.groupByTeam)),this.chart.chart.update()}rateFormationsByPlayers(){const e=this.evaluatePlayersInSquad();return this.FORMATIONS.map(r=>{const l=[],c=[],u=Object.keys(r).filter(A=>r[A]>0),W=this.DISTINCT_ROLES.map(A=>{const Mt=void 0!==e[A]?e[A].allRole:0;let Nt=Math.min(r[A],(Mt-(r[A]+1))*((void 0!==e[A]?e[A].good:0)+1));return r[A]>0&&r[A]-Mt>0&&(l.push(A),Nt-=3),r[A]>0&&Mt<2*r[A]+1&&c.push({role:A,urgency:Nt-r[A]}),isNaN(Nt)?{name:A,value:-1}:{name:A,value:Nt}}).filter(A=>u.includes(A.name)).reduce((A,mt)=>A+mt.value,0);return c.sort((A,mt)=>mt.urgency-A.urgency),{name:r.name,value:W,missingRoles:l,rolesToBuy:c}}).sort((r,l)=>l.value-r.value)}parseBestEleven(){const e=[],i=this.FORMATIONS.find(c=>c.name===this.formationChosen),r=this.playersLoaded.filter(c=>1===c.team_id).sort((c,u)=>this.RATING_VALUES[u.rating]-this.RATING_VALUES[c.rating]),l=[...this.DISTINCT_ROLES].reverse();for(let c of l){const u=r.filter(h=>!e.includes(h)).slice().filter(h=>{const W=h.best_role_mantra.split(";");for(let A of W)if(c===A)return!0;return!1}).slice(0,i[c]);for(let h of u)h.assignedRole=c;if(e.push(...u),u.length<i[c]){const h=r.filter(W=>!e.includes(W)).slice().filter(W=>{const A=W.role_mantra.split(";");for(let mt of A)if(c===mt)return!0;return!1}).slice(0,i[c]);for(let W of h)W.assignedRole=c;if(e.push(...h),u.length+h.length<i[c])for(let W=0;W<i[c]-(u.length+h.length);W++){const A=new bt({name:" !! ",id:-1,team:" !! "});A.assignedRole=c,e.push(A)}}}return e}evaluatePlayersInSquad(){const e=this.groupByAndCount(this.playersLoaded.filter(h=>1===h.team_id),"role_mantra","F"),i=this.groupByAndCount(this.playersLoaded.filter(h=>1===h.team_id),"best_role_mantra","F"),r=this.groupByAndCount(this.playersLoaded.filter(h=>1===h.team_id),"best_role_mantra","B"),l=this.groupByAndCount(this.playersLoaded.filter(h=>1===h.team_id&&h.first_team>=8),"best_role_mantra","F"),c=this.groupByAndCount(this.playersLoaded.filter(h=>0===h.team_id),"best_role_mantra","A-");this.expandRolesCountsToMultiRoles(e),this.expandRolesCountsToMultiRoles(i),this.expandRolesCountsToMultiRoles(r),this.expandRolesCountsToMultiRoles(l),this.expandRolesCountsToMultiRoles(c);const u={};for(let h of this.DISTINCT_ROLES)u[h]={all:e[h]||0,allRole:i[h]||0,good:r[h]||0,firstTeam:l[h]||0,remaining:c[h]||0};return u}expandRolesCountsToMultiRoles(e){for(let i in e)if(i.includes(";")){let r=i.split(";");for(let l of r)e[l]?e[l]+=e[i]:e[l]=e[i];delete e[i]}}updateGroupByTeamCount(){return this.groupByAndCount(this.playersLoaded.filter(i=>1===i.team_id),"team","B")}getPriceEstimation(e){return Math.round(e/2)}editField(e){this.teamDataService.updateField(e.id,"isEdit",!e.isEdit),this.filterOptions()}loadCSV(){this.loading=!0,setTimeout(()=>{this.teamDataService.resetDataToCSV(),this.groupByTeam={},this.computedFormations=[],this.roleInfo=[],this.bestEleven=[],this.updateAnalyses(),this.openSnackBar("Caricati "+this.playersLoaded.length.toString()+" giocatori","OK"),this.loading=!1},0),setTimeout(()=>{this.groupByTeam=this.updateGroupByTeamCount(),this.computedFormations=this.rateFormationsByPlayers(),this.roleInfo=this.evaluatePlayersInSquad(),this.bestEleven=this.parseBestEleven(),this.getMyAmountRemaining(),0===this.chart.chart.data.datasets.length||(this.chart.chart.data.datasets[0].data=Object.values(this.groupByTeam),this.chart.chart.data.labels=Object.keys(this.groupByTeam)),this.chart.chart.update()},100)}remove(e){const i=this.playersLoaded.indexOf(e);this.playersLoaded.splice(i,1),this.teamDataService.setData(this.playersLoaded),this.filterOptions()}getNumPlayers(){return this.playersLoaded.filter(e=>1===e.team_id).length}getDistinctTeams(){return this.DISTINCT_TEAMS}getDistinctRoles(){return this.DISTINCT_ROLES}getDistinctRatingKeys(){return Object.keys(this.RATING_VALUES)}getDistinctTeamsKeys(){return Object.keys(this.getDistinctTeams()).map(e=>parseInt(e))}getDistinctTeamsKeysTeamsOnly(){return Object.keys(this.getDistinctTeams()).map(e=>parseInt(e)).filter(e=>0!==e)}getTeamName(e){return this.getDistinctTeams()[e]}switchFirstTeamFilter(){this.aggregateFilters(),this.filterOptions()}switchPenaltyTakerFilter(){this.aggregateFilters(),this.filterOptions()}switchFreeKickTakerFilter(){this.aggregateFilters(),this.filterOptions()}switchInjuredFilter(){this.aggregateFilters(),this.filterOptions()}getDistinctValues(e){const i=new Set;return this.playersLoaded.forEach(r=>{if(e===this.roleColumn){void 0===r&&console.log("undefined");const l=r[e].split(";");for(let c=0;c<l.length;c++)i.add(l[c])}else i.add(r[e])}),Array.from(i).sort()}aggregateFilters(){this.loading||(this.dataSource.filterPredicate=(e,i)=>(!this.nameFilter||this.nameFilterPredicate(e,this.nameFilter))&&(void 0===this.userFilter||this.userFilter<0||this.userFilterPredicate(e,this.userFilter))&&(!this.roleFilter||this.roleFilterPredicate(e,this.roleFilter))&&(!this.teamFilter||this.teamFilterPredicate(e,this.teamFilter))&&(!this.ratingFilter||this.ratingFilterPredicate(e,this.ratingFilter))&&(!this.valueFilter||this.valueFilterPredicate(e,this.valueFilter))&&(!this.valueFilterMax||this.valueFilterMaxPredicate(e,this.valueFilterMax))&&this.infoFilterPredicate(e,this.firstTeamFilter,this.penaltyTakerFilter,this.freeKickTakerFilter,this.injuredFilter),this.dataSource.filter="#",this.dataSource.filter="A",this.dataSource.paginator&&this.dataSource.paginator.firstPage())}filterByColumnValue(e){this.roleFilter=e,this.aggregateFilters()}downloadCSV(){const e=tt.unparse(this.dataSource.data),i=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(i),l=document.createElement("a");l.href=r,l.download="data.csv",l.click(),window.URL.revokeObjectURL(r)}filterByColumnValueUser(e){this.userFilter=e,this.aggregateFilters()}filterByColumnValueTeam(e){this.teamFilter=e,this.aggregateFilters()}filterByColumnValueRating(e){this.ratingFilter=e,this.aggregateFilters()}filterByColumnValueMantra(e){const i=e.target.value;console.log(i),this.valueFilter=i.trim().toLowerCase(),this.aggregateFilters()}filterByColumnValueMantraMax(e){const i=e.target.value;console.log(i),this.valueFilterMax=i.trim().toLowerCase(),this.aggregateFilters()}applyFilter(e){this.nameFilter=e.target.value.trim().toLowerCase(),this.aggregateFilters()}filter(){this.filterOptions()}filterAdder(){this.filterOptions()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(At),t.Y36(ot.uw),t.Y36(p.ux),t.Y36(m))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-tables"]],viewQuery:function(e,i){if(1&e&&(t.Gf(s.jh,5),t.Gf(Ut,5),t.Gf(St,5),t.Gf(Et,5),t.Gf(kt,5),t.Gf(_t.NW,5),t.Gf(it.YE,5),t.Gf(y.BZ,5)),2&e){let r;t.iGM(r=t.CRH())&&(i.chart=r.first),t.iGM(r=t.CRH())&&(i.input=r.first),t.iGM(r=t.CRH())&&(i.inputAdder=r.first),t.iGM(r=t.CRH())&&(i.inputPrice=r.first),t.iGM(r=t.CRH())&&(i.inputTeam=r.first),t.iGM(r=t.CRH())&&(i.paginator=r.first),t.iGM(r=t.CRH())&&(i.sort=r.first),t.iGM(r=t.CRH())&&(i.table=r.first)}},decls:285,vars:56,consts:[["class","overlay",4,"ngIf"],[3,"selectedIndex"],["mat-tab-label",""],[1,"accordion-container"],["multi","",4,"ngFor","ngForOf"],[1,"card","shadow","my-bg"],[1,"card-container"],[1,"my-card"],[1,"my-card-content"],[1,"btn-inner--icon"],[1,"fas","fa-bullhorn"],["color","warn","mat-raised-button","",4,"ngIf"],["color","primary","mat-raised-button","",4,"ngIf"],["mat-raised-button",""],[4,"ngFor","ngForOf"],["class","example-form",4,"ngIf"],[1,"example-form"],["color","primary","type","button","mat-raised-button","",3,"click"],[1,"fas","fa-user"],["id","imageModalPortieri",1,"modal"],[1,"close",3,"click"],["src","assets/incroci_portieri_23_24.png","alt","Description",1,"modal-content"],["id","imageModal",1,"modal"],["src","https://content.fantacalcio.it/web/img/medium/fb125077-b00a-4587-9139-be740128a4e4.jpg","alt","Description",1,"modal-content"],[1,"team-field"],[3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"player-field"],["type","text","placeholder","Pick one","matInput","",3,"formControl","matAutocomplete","input","focus","keyup"],["inputmine",""],["requireSelection","",3,"optionSelected"],["auto","matAutocomplete"],[1,"role-field"],[3,"formControl","selectionChange",4,"ngIf"],["value",""],[1,"mini-field"],["type","number","placeholder","Minimum Value","matInput","",3,"formControl","keyup","input"],["matTooltip","Se selezionato, mostra solo il ruolo migliore tra i disponibili es. Ds, Dc viene mostrato come Dc","matTooltipPosition","left","name","simpleRoles",3,"ngModel","ngModelChange","change"],["name","firstTeam",3,"ngModel","ngModelChange","change"],["name","penalty",3,"ngModel","ngModelChange","change"],["name","freeKick",3,"ngModel","ngModelChange","change"],["name","injured",3,"ngModel","ngModelChange","change"],["color","primary","mat-raised-button","",3,"click"],[1,"fas","fa-trash"],[1,"fas","fa-undo"],["color","primary","type","button","mat-raised-button","",3,"matMenuTriggerFor"],[1,"fas","fa-exchange-alt"],["menuu","matMenu"],["mat-menu-item","",3,"matMenuTriggerFor"],["team","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["rating","matMenu"],[1,"fas","fa-check-circle"],[1,"table-responsive"],["mat-table","","matSort","",1,"table","align-items-center","table-flush",3,"dataSource"],["matColumnDef","isEdit"],["class","thead-light","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","team_id"],["matColumnDef","name"],["matColumnDef","team"],["matColumnDef","best_role_mantra"],["matColumnDef","role_mantra"],["class","thead-light","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","value_mantra_1000"],["matColumnDef","price"],["matColumnDef","rating"],["matColumnDef","first_team"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["class","mat-row","mat-footer-row","",4,"matFooterRowDef"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"card-footer","py-4"],["aria-label","..."],["cols","1","rowHeight","500px","gutterSize","16px"],[1,"analysis-card"],[1,"example-chart"],[1,"card-title","text-uppercase","text-muted","mb-0"],[3,"ngModel","selectionChange","ngModelChange"],["inputteam",""],["class","table align-items-center table-flush small-table",4,"ngIf"],["rowHeight","430px","gutterSize","16px",3,"cols"],["baseChart","",3,"type","datasets","labels","options","plugins","legend"],[1,"col-auto"],[1,"card","shadow"],[1,"card-header","bg-transparent","border-0"],["color","primary","type","button","mat-raised-button","","matTooltip","Scarica i dati salvati come .CSV","matTooltipPosition","above",3,"click"],[1,"fas","fa-download"],["type","file",1,"hidden-file-input",3,"change"],["fileInput",""],["color","primary","mat-raised-button","","matTooltip","Carica un .CSV scaricato in precedenza","matTooltipPosition","above",3,"click"],[1,"fas","fa-upload"],["color","primary","mat-raised-button","","matTooltip","Riporta i dati allo stato originario","matTooltipPosition","above",3,"click"],[1,"fas","fa-power-off"],["color","accent","type","button","mat-raised-button","",3,"click"],[1,"fas","fa-table"],[1,"url-edit"],["matInput","","type","text",3,"ngModel","ngModelChange"],[1,"container-fluid","mt--7"],[1,"overlay"],["multi",""],[3,"data","teamId","teamName"],[1,"fas","fa-play"],["color","warn","mat-raised-button",""],["color","primary","mat-raised-button",""],[4,"ngIf"],[1,"fas","fa-hand-point-right"],["color","warn","type","button","mat-raised-button","",4,"ngFor","ngForOf"],["color","warn","type","button","mat-raised-button",""],["color","primary","type","button","mat-raised-button","",4,"ngFor","ngForOf"],["color","primary","type","button","mat-raised-button",""],["type","text","placeholder","Pick one","matInput","",3,"formControl","matAutocomplete","input","focus"],["inputadder",""],["autoAdder","matAutocomplete"],[1,"value-field"],["type","text","placeholder","Prezzo","matInput","",3,"formControl"],["inputprice",""],[3,"formControl"],["type","text","placeholder","Minimum Value","matInput","","disabled","","name","teaamCandidate",3,"ngModel","ngModelChange"],["type","text","placeholder","Minimum Value","matInput","","disabled","","name","ratingCandidate",3,"ngModel","ngModelChange"],["type","text","placeholder","Minimum Value","matInput","","disabled","","name","roleCandidate",3,"ngModel","ngModelChange"],[1,"fas","fa-plus"],["mat-menu-item","",3,"click"],["mat-header-cell","","mat-sort-header","",1,"thead-light"],["mat-cell",""],["class","btn-edit",4,"ngIf"],[1,"btn-edit"],[1,"fas","fa-check"],[1,"fas","fa-edit"],["mat-footer-cell",""],["color","accent","type","button","mat-raised-button","",4,"ngIf"],["color","primary","type","button","mat-raised-button","",4,"ngIf"],["color","warn","type","button","mat-raised-button","",4,"ngIf"],["color","accent","type","button","mat-raised-button",""],[1,"fas","fa-thumbs-up"],[1,"fas","fa-star"],[1,"fas","fa-ban"],[1,"squad-edit"],["name","rating",3,"ngModel","ngModelChange"],["matTooltipPosition","right","matTooltipClass","test",3,"matTooltip"],["matTooltip","Mostra solo il ruolo migliore tra i disponibili es. Ds, Dc viene mostrato come Dc","matTooltipPosition","above"],["mat-header-cell","",1,"thead-light"],[1,"rating-edit"],["matInput","","required","","pattern","[0-9]+",3,"type","ngModel","ngModelChange"],["price","ngModel"],["value","A"],["value","A-"],["value","B"],["value","C"],["value","D"],["value","F"],["color","primary","type","button","mat-raised-button","","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],["color","accent","type","button","mat-raised-button","","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],["color","primary","type","button","mat-raised-button","","matTooltip","Rigorista","matTooltipPosition","above",4,"ngIf"],["class","btn btn-icon btn-sm btn-secondary","type","button","mat-raised-button","","matTooltip","Tira punizioni e angoli","matTooltipPosition","above",4,"ngIf"],["color","primary","type","button","matTooltipPosition","above","mat-raised-button","",3,"matTooltip",4,"ngIf"],["color","warn","type","button","matTooltipPosition","above","mat-raised-button","",3,"matTooltip",4,"ngIf"],["color","warn","type","button","mat-raised-button","","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],["color","primary","type","button","mat-raised-button","","matTooltipPosition","above",3,"matTooltip"],[1,"fas","fa-child"],["color","accent","type","button","mat-raised-button","","matTooltipPosition","above",3,"matTooltip"],["color","primary","type","button","mat-raised-button","","matTooltip","Rigorista","matTooltipPosition","above"],[1,"fas","fa-futbol"],["type","button","mat-raised-button","","matTooltip","Tira punizioni e angoli","matTooltipPosition","above",1,"btn","btn-icon","btn-sm","btn-secondary"],[1,"fas","fa-bullseye"],["color","primary","type","button","matTooltipPosition","above","mat-raised-button","",3,"matTooltip"],[1,"fas","fa-hand-paper"],["color","warn","type","button","matTooltipPosition","above","mat-raised-button","",3,"matTooltip"],["color","warn","type","button","mat-raised-button","","matTooltipPosition","above",3,"matTooltip"],[1,"fas","fa-briefcase-medical"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],["mat-footer-row","",1,"mat-row"],[1,"fas","fa-chart-line"],[1,"table","align-items-center","table-flush","small-table"],[1,"smallcell"],["class","smallcell",4,"ngIf"],[1,"fas","fa-equals"],[1,"fas","fa-thumbs-down"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-exclamation-triangle"],[1,"fas","fa-users-cog"]],template:function(e,i){if(1&e){const r=t.EpF();t.YNc(0,Rt,2,0,"div",0),t.TgZ(1,"mat-tab-group",1)(2,"mat-tab"),t.YNc(3,Pt,3,0,"ng-template",2),t._UZ(4,"br"),t.TgZ(5,"div",3),t.YNc(6,Jt,2,3,"mat-accordion",4),t.qZA()(),t.TgZ(7,"mat-tab"),t.YNc(8,Qt,3,0,"ng-template",2),t.TgZ(9,"div")(10,"div")(11,"div",5)(12,"div",6)(13,"div",7)(14,"mat-card",8)(15,"mat-card-content")(16,"h4"),t._uU(17,"Analisi Squadra"),t.qZA(),t._UZ(18,"mat-divider")(19,"br"),t.TgZ(20,"h5")(21,"span",9),t._UZ(22,"i",10),t.qZA(),t._uU(23," Hai "),t.TgZ(24,"b"),t.YNc(25,Yt,2,1,"button",11),t.YNc(26,Lt,2,1,"button",12),t.qZA(),t._uU(27," crediti e "),t.TgZ(28,"button",13),t._uU(29),t.qZA(),t._uU(30,"giocatori, di cui "),t.TgZ(31,"button",13),t._uU(32),t.qZA(),t._uU(33," infortunati, "),t.TgZ(34,"button",13),t._uU(35),t.qZA(),t._uU(36," titolari, "),t.TgZ(37,"button",13),t._uU(38),t.qZA(),t._uU(39," rigoristi, "),t.TgZ(40,"button",13),t._uU(41),t.qZA(),t._uU(42," stelle. "),t.qZA(),t.YNc(43,Kt,3,2,"span",14),t.YNc(44,te,20,6,"form",15),t.YNc(45,ee,17,3,"form",15),t._UZ(46,"br"),t.TgZ(47,"form",16)(48,"button",17),t.NdJ("click",function(){return i.openImageModalPortieri()}),t._uU(49," Vedi Incroci Portieri "),t.TgZ(50,"span",9),t._UZ(51,"i",18),t.qZA()(),t.TgZ(52,"div",19)(53,"span",20),t.NdJ("click",function(){return i.closeImageModalPortieri()}),t._uU(54,"\xd7"),t.qZA(),t._UZ(55,"img",21),t.qZA(),t.TgZ(56,"button",17),t.NdJ("click",function(){return i.openImageModal()}),t._uU(57," Vedi Moduli Mantra "),t.TgZ(58,"span",9),t._UZ(59,"i",18),t.qZA()(),t.TgZ(60,"div",22)(61,"span",20),t.NdJ("click",function(){return i.closeImageModal()}),t._uU(62,"\xd7"),t.qZA(),t._UZ(63,"img",23),t.qZA()()()()(),t._UZ(64,"br"),t.TgZ(65,"div",7)(66,"mat-card",8)(67,"mat-card-content")(68,"h4"),t._uU(69,"Filtra giocatori nel Listone"),t.qZA(),t._UZ(70,"mat-divider"),t.TgZ(71,"form",16)(72,"mat-form-field",24)(73,"mat-label"),t._uU(74,"Squadra Fantacalcio"),t.qZA(),t.TgZ(75,"mat-select",25),t.NdJ("selectionChange",function(c){return i.filterByColumnValueUser(c.value)}),t.YNc(76,ne,2,2,"mat-option",26),t.TgZ(77,"mat-option",27)(78,"b"),t._uU(79,"Tutte"),t.qZA()()()(),t.TgZ(80,"mat-form-field",28)(81,"mat-label"),t._uU(82,"Giocatore ..."),t.qZA(),t.TgZ(83,"input",29,30),t.NdJ("input",function(){return i.filter()})("focus",function(){return i.filter()})("keyup",function(c){return i.applyFilter(c)}),t.qZA(),t.TgZ(85,"mat-autocomplete",31,32),t.NdJ("optionSelected",function(c){return i.onOptionSelected(c)}),t.YNc(87,ie,2,2,"mat-option",26),t.qZA()(),t.TgZ(88,"mat-form-field",33)(89,"mat-label"),t._uU(90,"Ruolo"),t.qZA(),t.YNc(91,ae,5,2,"mat-select",34),t.YNc(92,se,5,2,"mat-select",34),t.qZA()(),t.TgZ(93,"form",16)(94,"mat-form-field",24)(95,"mat-label"),t._uU(96,"Squadra Serie A"),t.qZA(),t.TgZ(97,"mat-select",25),t.NdJ("selectionChange",function(c){return i.filterByColumnValueTeam(c.value)}),t.YNc(98,le,2,2,"mat-option",26),t.TgZ(99,"mat-option",35)(100,"b"),t._uU(101,"Qualsiasi"),t.qZA()()()(),t.TgZ(102,"mat-form-field",33)(103,"mat-label"),t._uU(104,"Rating"),t.qZA(),t.TgZ(105,"mat-select",25),t.NdJ("selectionChange",function(c){return i.filterByColumnValueRating(c.value)}),t.YNc(106,ce,2,2,"mat-option",26),t.TgZ(107,"mat-option",35)(108,"b"),t._uU(109,"Qualsiasi"),t.qZA()()()(),t.TgZ(110,"mat-form-field",36)(111,"mat-label"),t._uU(112,"Stima prezzo minima"),t.qZA(),t.TgZ(113,"input",37),t.NdJ("keyup",function(c){return i.filterByColumnValueMantra(c)})("input",function(c){return i.filterByColumnValueMantra(c)}),t.qZA()(),t.TgZ(114,"mat-form-field",36)(115,"mat-label"),t._uU(116,"Stima prezzo Massima"),t.qZA(),t.TgZ(117,"input",37),t.NdJ("keyup",function(c){return i.filterByColumnValueMantraMax(c)})("input",function(c){return i.filterByColumnValueMantraMax(c)}),t.qZA()()(),t.TgZ(118,"form",16)(119,"mat-checkbox",38),t.NdJ("ngModelChange",function(c){return i.areSimpleRoles=c})("change",function(){return i.onCheckboxChange()}),t._uU(120,"Ruoli Migliori"),t.qZA(),t.TgZ(121,"mat-checkbox",39),t.NdJ("ngModelChange",function(c){return i.firstTeamFilter=c})("change",function(){return i.switchFirstTeamFilter()}),t._uU(122,"Titolari"),t.qZA(),t.TgZ(123,"mat-checkbox",40),t.NdJ("ngModelChange",function(c){return i.penaltyTakerFilter=c})("change",function(){return i.switchPenaltyTakerFilter()}),t._uU(124,"Rigoristi"),t.qZA(),t.TgZ(125,"mat-checkbox",41),t.NdJ("ngModelChange",function(c){return i.freeKickTakerFilter=c})("change",function(){return i.switchFreeKickTakerFilter()}),t._uU(126,"Tiratori"),t.qZA(),t.TgZ(127,"mat-checkbox",42),t.NdJ("ngModelChange",function(c){return i.injuredFilter=c})("change",function(){return i.switchInjuredFilter()}),t._uU(128,"Infortunati"),t.qZA()(),t.TgZ(129,"form",16)(130,"button",43),t.NdJ("click",function(){return i.selectMyTeamOnly()}),t._uU(131," La Mia Squadra "),t.TgZ(132,"span",9),t._UZ(133,"i",18),t.qZA()(),t.TgZ(134,"button",17),t.NdJ("click",function(){return i.deleteFilters()}),t._uU(135," Cancella Tutti i Filtri "),t.TgZ(136,"span",9),t._UZ(137,"i",44),t.qZA()()(),t.TgZ(138,"form",16)(139,"button",17),t.NdJ("click",function(){return i.setEditableAllSelected()}),t._uU(140," Avvia modifica giocatori filtrati "),t.TgZ(141,"span",9),t._UZ(142,"i",45),t.qZA()(),t.TgZ(143,"button",46),t._uU(144," Cambia valori giocatori in modifica "),t.TgZ(145,"span",9),t._UZ(146,"i",47),t.qZA()(),t.TgZ(147,"mat-menu",null,48)(149,"button",49),t._uU(150," Assegna tutti a una squadra "),t.qZA(),t.TgZ(151,"button",49),t._uU(152," Cambia il rating di tutti "),t.qZA()(),t.TgZ(153,"mat-menu",null,50),t.YNc(155,ue,2,1,"button",51),t.qZA(),t.TgZ(156,"mat-menu",null,52),t.YNc(158,me,2,1,"button",51),t.qZA(),t.TgZ(159,"button",17),t.NdJ("click",function(){return i.unEditAll()}),t._uU(160," Termina modifiche "),t.TgZ(161,"span",9),t._UZ(162,"i",53),t.qZA()()()()()(),t._UZ(163,"br"),t.qZA(),t.TgZ(164,"div",54)(165,"table",55),t.ynx(166,56),t.YNc(167,pe,1,0,"th",57),t.YNc(168,fe,3,2,"td",58),t.YNc(169,he,1,0,"td",59),t.BQk(),t.ynx(170,60),t.YNc(171,ge,2,0,"th",57),t.YNc(172,ve,3,2,"td",58),t.YNc(173,Ae,1,0,"td",59),t.BQk(),t.ynx(174,61),t.YNc(175,Se,2,0,"th",57),t.YNc(176,we,3,2,"td",58),t.YNc(177,Ie,4,1,"td",59),t.BQk(),t.ynx(178,62),t.YNc(179,De,2,0,"th",57),t.YNc(180,Ue,2,1,"td",58),t.YNc(181,Ne,1,0,"td",59),t.BQk(),t.ynx(182,63),t.YNc(183,Fe,3,0,"th",57),t.YNc(184,qe,2,1,"td",58),t.YNc(185,Oe,1,0,"td",59),t.BQk(),t.ynx(186,64),t.YNc(187,Ee,2,0,"th",65),t.YNc(188,Re,2,1,"td",58),t.YNc(189,Pe,1,0,"td",59),t.BQk(),t.ynx(190,66),t.YNc(191,Je,2,0,"th",57),t.YNc(192,Qe,3,1,"td",58),t.YNc(193,Ye,1,0,"td",59),t.BQk(),t.ynx(194,67),t.YNc(195,Le,2,0,"th",57),t.YNc(196,Ge,3,2,"td",58),t.YNc(197,Ve,1,0,"td",59),t.BQk(),t.ynx(198,68),t.YNc(199,We,2,0,"th",57),t.YNc(200,an,3,2,"td",58),t.YNc(201,rn,1,0,"td",59),t.BQk(),t.ynx(202,69),t.YNc(203,sn,2,0,"th",65),t.YNc(204,fn,8,7,"td",58),t.YNc(205,hn,1,0,"td",59),t.BQk(),t.YNc(206,gn,1,0,"tr",70),t.YNc(207,bn,1,0,"tr",71),t.YNc(208,Tn,3,0,"tr",72),t.YNc(209,Cn,1,0,"tr",73),t.qZA(),t._UZ(210,"mat-paginator",74),t.qZA(),t.TgZ(211,"div",75),t._UZ(212,"nav",76),t.qZA()()()()(),t.TgZ(213,"mat-tab"),t.YNc(214,xn,3,0,"ng-template",2),t._UZ(215,"br"),t.TgZ(216,"mat-grid-list",77)(217,"mat-grid-tile")(218,"mat-card",78)(219,"mat-card-content",79)(220,"h5",80),t._uU(221," Migliore Formazione modulo "),t.qZA(),t.TgZ(222,"mat-form-field")(223,"mat-select",81,82),t.NdJ("selectionChange",function(){return i.updateBestEleven()})("ngModelChange",function(c){return i.formationChosen=c}),t.YNc(225,Zn,2,2,"mat-option",26),t.qZA()(),t.YNc(226,Rn,15,1,"table",83),t.qZA()()()(),t._UZ(227,"br"),t.TgZ(228,"mat-grid-list",84)(229,"mat-grid-tile")(230,"mat-card",78)(231,"mat-card-content",79)(232,"h5",80),t._uU(233," Squadre giocatori migliori "),t.qZA(),t.TgZ(234,"div",79),t._UZ(235,"canvas",85),t.qZA()()()(),t.TgZ(236,"mat-grid-tile")(237,"mat-card",78)(238,"mat-card-content",79)(239,"h5",80),t._uU(240," Formazioni Migliori "),t.qZA(),t.TgZ(241,"div",86),t.YNc(242,Kn,11,1,"table",83),t.qZA()()()(),t.TgZ(243,"mat-grid-tile")(244,"mat-card",78)(245,"mat-card-content",79)(246,"h5",80),t._uU(247," Analisi Ruolo "),t.qZA(),t.TgZ(248,"div",86),t.YNc(249,di,15,1,"table",83),t.qZA()()()()()(),t.TgZ(250,"mat-tab"),t.YNc(251,fi,3,0,"ng-template",2),t.TgZ(252,"div")(253,"div")(254,"div",87)(255,"div",88),t._UZ(256,"br"),t.TgZ(257,"button",89),t.NdJ("click",function(){return i.downloadCSV()}),t.TgZ(258,"span",9),t._uU(259,"Scarica tutti i dati come .CSV "),t._UZ(260,"i",90),t.qZA()(),t._UZ(261,"br")(262,"br"),t.TgZ(263,"input",91,92),t.NdJ("change",function(c){return i.onFileChange(c)}),t.qZA(),t.TgZ(265,"button",93),t.NdJ("click",function(){t.CHM(r);const c=t.MAs(264);return t.KtG(c.click())}),t.TgZ(266,"span",9),t._uU(267,"Ricarica tutti i dati da un file .CSV "),t._UZ(268,"i",94),t.qZA()(),t._UZ(269,"br")(270,"br"),t.TgZ(271,"button",95),t.NdJ("click",function(){return i.openConfirmationDialogLoadCSV()}),t.TgZ(272,"span",9),t._uU(273,"Ripristina dati allo stato iniziale "),t._UZ(274,"i",96),t.qZA()(),t._UZ(275,"br")(276,"br"),t.TgZ(277,"button",97),t.NdJ("click",function(){return i.getDataFromSheets()}),t._uU(278," Carica dati da Google Sheets "),t.TgZ(279,"span",9),t._UZ(280,"i",98),t.qZA()(),t._uU(281,"URL : "),t.TgZ(282,"mat-form-field",99)(283,"input",100),t.NdJ("ngModelChange",function(c){return i.sheetSource=c}),t.qZA()()()()()()()(),t._UZ(284,"div",101)}if(2&e){const r=t.MAs(86),l=t.MAs(148),c=t.MAs(154),u=t.MAs(157);t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("selectedIndex",1),t.xp6(5),t.Q6J("ngForOf",i.getDistinctTeamsKeysTeamsOnly()),t.xp6(19),t.Q6J("ngIf",i.amountRemaining<50),t.xp6(1),t.Q6J("ngIf",i.amountRemaining>=50),t.xp6(3),t.Oqu(i.getNumPlayers()),t.xp6(3),t.hij(" ",i.getInfoPlayers().injured," "),t.xp6(3),t.hij(" ",i.getInfoPlayers().firstTeam," "),t.xp6(3),t.hij(" ",i.getInfoPlayers().penaltyTakers," "),t.xp6(3),t.hij(" ",i.getInfoPlayers().stars," "),t.xp6(2),t.Q6J("ngForOf",i.bestFormationsFound),t.xp6(1),t.Q6J("ngIf",i.adderForm),t.xp6(1),t.Q6J("ngIf",i.adderForm),t.xp6(30),t.Q6J("formControl",i.inputsquadsrc),t.xp6(1),t.Q6J("ngForOf",i.getDistinctTeamsKeys()),t.xp6(1),t.Q6J("value",-1),t.xp6(6),t.Q6J("formControl",i.myControl)("matAutocomplete",r),t.xp6(4),t.Q6J("ngForOf",i.searchFilterOptions),t.xp6(4),t.Q6J("ngIf",i.areSimpleRoles),t.xp6(1),t.Q6J("ngIf",!i.areSimpleRoles),t.xp6(5),t.Q6J("formControl",i.inputteamsrc),t.xp6(1),t.Q6J("ngForOf",i.getDistinctValues("team")),t.xp6(7),t.Q6J("formControl",i.inputratingsrc),t.xp6(1),t.Q6J("ngForOf",i.getDistinctValues("rating")),t.xp6(7),t.Q6J("formControl",i.inputvaluesrc),t.xp6(4),t.Q6J("formControl",i.inputvaluemaxsrc),t.xp6(2),t.Q6J("ngModel",i.areSimpleRoles),t.xp6(2),t.Q6J("ngModel",i.firstTeamFilter),t.xp6(2),t.Q6J("ngModel",i.penaltyTakerFilter),t.xp6(2),t.Q6J("ngModel",i.freeKickTakerFilter),t.xp6(2),t.Q6J("ngModel",i.injuredFilter),t.xp6(16),t.Q6J("matMenuTriggerFor",l),t.xp6(6),t.Q6J("matMenuTriggerFor",c),t.xp6(2),t.Q6J("matMenuTriggerFor",u),t.xp6(4),t.Q6J("ngForOf",i.getDistinctTeamsKeys()),t.xp6(3),t.Q6J("ngForOf",i.getDistinctRatingKeys()),t.xp6(7),t.Q6J("dataSource",i.dataSource),t.xp6(41),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(2),t.Q6J("matFooterRowDef",i.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(55,hi)),t.xp6(13),t.Q6J("ngModel",i.formationChosen),t.xp6(2),t.Q6J("ngForOf",i.formationNames),t.xp6(1),t.Q6J("ngIf",i.getBestEleven()),t.xp6(2),t.Q6J("cols",i.cols),t.xp6(7),t.Q6J("type","pie")("datasets",i.pieChartDatasets)("labels",i.pieChartLabels)("options",i.pieChartOptions)("plugins",i.pieChartPlugins)("legend",i.pieChartLegend),t.xp6(7),t.Q6J("ngIf",i.computedFormations),t.xp6(7),t.Q6J("ngIf",i.roleInfo.Por),t.xp6(34),t.Q6J("ngModel",i.sheetSource)}},dependencies:[pt.sg,pt.O5,C._Y,C.Fj,C.wV,C.JJ,C.JL,C.Q7,C.c5,C.On,C.F,y.BZ,y.fO,y.as,y.w1,y.Dz,y.nj,y.mD,y.Ke,y.ge,y.ev,y.yh,y.XQ,y.Gk,y.Q2,y.Ee,d.XC,d.ZL,T.ey,v.TO,v.KE,v.hX,J.Nt,C.oH,_t.NW,it.YE,it.nU,M.gD,f.gM,q.Il,q.DX,b.a8,b.dn,$.pp,et.lW,L.oG,s.jh,_.SP,_.uD,_.uX,U.Ou,B.d,N.VK,N.OP,N.p6,X],styles:["table[_ngcontent-%COMP%]{width:100%;justify-content:center;align-items:center;background-color:#fff}.mat-table[_ngcontent-%COMP%]{background-color:#fff}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.my-bg[_ngcontent-%COMP%]{background-color:#eee}.example-chart[_ngcontent-%COMP%]{width:100%;height:100%}.example-form[_ngcontent-%COMP%]{width:100%;margin-top:6px;display:flex;flex-direction:row;justify-content:center;align-items:center}.example-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{padding:0 10px}.card-container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center;flex-wrap:wrap;justify-content:space-between}.my-card-content[_ngcontent-%COMP%]{width:100%;margin:20px}.accordion-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}mat-accordion[_ngcontent-%COMP%]{max-width:60%;width:100%;margin-bottom:6px}.my-card[_ngcontent-%COMP%]{width:100%;justify-content:center;align-items:center;display:flex;flex:0 0 calc(44% - 20px);margin-bottom:7px}@media screen and (max-width: 1380px){.my-card[_ngcontent-%COMP%]{flex:0 0 98%;margin-bottom:10px auto}}.analysis-card[_ngcontent-%COMP%]{width:100%;justify-content:center;align-items:center;display:flex;margin-bottom:20px}@media (max-width: 767px){.my-card[_ngcontent-%COMP%]{flex:0 0 100%;margin-left:0;margin-right:0}}.btn-reset[_ngcontent-%COMP%]{width:50%;justify-content:center;align-items:center;display:flex;flex-direction:row}.example-full-width[_ngcontent-%COMP%]{width:80%}.player-field[_ngcontent-%COMP%]{width:40%}.team-field[_ngcontent-%COMP%]{width:30%}.value-field[_ngcontent-%COMP%]{width:25%}.role-field[_ngcontent-%COMP%]{width:20%}.mini-field[_ngcontent-%COMP%]{width:18%}.squad-edit[_ngcontent-%COMP%]{max-width:80px}.url-edit[_ngcontent-%COMP%]{width:50%}.rating-edit[_ngcontent-%COMP%]{max-width:50px}.hidden-file-input[_ngcontent-%COMP%]{display:none}.my-div[_ngcontent-%COMP%]{background-color:#1e88e5}.mat-raised-button[_ngcontent-%COMP%], .mat-flat-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%], .mat-button[_ngcontent-%COMP%]{min-width:18px!important;line-height:24px!important;padding:0 8px!important;margin:4px}  .test{white-space:pre-line;max-width:400px!important}.mat-card[_ngcontent-%COMP%]{margin:9px}mat-checkbox[_ngcontent-%COMP%]{margin-right:20px}.example-form[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]   .mat-checkbox-label[_ngcontent-%COMP%]{line-height:normal}.responsive-image[_ngcontent-%COMP%]{max-width:100%;height:auto;display:block}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;padding-top:100px;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#0009}.modal-content[_ngcontent-%COMP%]{margin:auto;display:block;width:80%;max-width:700px}.close[_ngcontent-%COMP%]{position:absolute;top:15px;right:35px;color:#fff;font-size:40px;font-weight:700;transition:.3s}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#bbb;text-decoration:none;cursor:pointer}.mat-row[_ngcontent-%COMP%]{height:32px!important}.smallcell[_ngcontent-%COMP%]{padding:0;max-width:16px!important;font-size:12px;justify-content:center;align-items:center;text-align:center}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:1000;display:flex;justify-content:center;align-items:center}"]}),n})();var bi=Z(7556);const Ti=[{path:"tables",component:gi,canActivate:[(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){var r=this;return(0,V.Z)(function*(){return!!(yield r.authService.isAuthenticated())||r.router.parseUrl("/login")})()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(bi.e),t.LFG(xt.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]}];var Ci=Z(5454),xi=Z(5415);let Zi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[At],imports:[pt.ez,xt.Bz.forChild(Ti),C.u5,Ct.JF,Ci.IJ,x,xi.T,y.p0,d.Bb,v.lN,J.c,C.UX,_t.TU,it.JX,d.Bb,Ct.JF,M.LD,f.AV,q.N6,b.QW,$.To,ot.Is,et.ot,L.p9,s.vQ,_.Nh,U.Cq,p.ZX,B.t,N.Tx]}),n})()},3028:function(qt,wt){var Z,xt;Z=function pt(){"use strict";var C=typeof self<"u"?self:typeof window<"u"?window:void 0!==C?C:{},t=!C.document&&!!C.postMessage,It=C.IS_PAPA_WORKER||!1,yt={},Ot=0,x={parse:function(s,a){var m=(a=a||{}).dynamicTyping||!1;if(w(m)&&(a.dynamicTypingFunction=m,m={}),a.dynamicTyping=m,a.transform=!!w(a.transform)&&a.transform,a.worker&&x.WORKERS_SUPPORTED){var p=function(){if(!x.WORKERS_SUPPORTED)return!1;var J,M,T=(J=C.URL||C.webkitURL||null,M=pt.toString(),x.BLOB_URL||(x.BLOB_URL=J.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",M,")();"],{type:"text/javascript"})))),v=new C.Worker(T);return v.onmessage=Ft,v.id=Ot++,yt[v.id]=v}();return p.userStep=a.step,p.userChunk=a.chunk,p.userComplete=a.complete,p.userError=a.error,a.step=w(a.step),a.chunk=w(a.chunk),a.complete=w(a.complete),a.error=w(a.error),delete a.worker,void p.postMessage({input:s,config:a,workerId:p.id})}var T,d=null;return"string"==typeof s?(s=65279===(T=s).charCodeAt(0)?T.slice(1):T,d=a.download?new _t(a):new y(a)):!0===s.readable&&w(s.read)&&w(s.on)?d=new gt(a):(C.File&&s instanceof File||s instanceof Object)&&(d=new it(a)),d.stream(s)},unparse:function(s,a){var m=!1,p=!0,d=",",T="\r\n",v='"',J=v+v,M=!1,f=null,q=!1;!function(){if("object"==typeof a){if("string"!=typeof a.delimiter||x.BAD_DELIMITERS.filter(function(_){return-1!==a.delimiter.indexOf(_)}).length||(d=a.delimiter),("boolean"==typeof a.quotes||"function"==typeof a.quotes||Array.isArray(a.quotes))&&(m=a.quotes),"boolean"!=typeof a.skipEmptyLines&&"string"!=typeof a.skipEmptyLines||(M=a.skipEmptyLines),"string"==typeof a.newline&&(T=a.newline),"string"==typeof a.quoteChar&&(v=a.quoteChar),"boolean"==typeof a.header&&(p=a.header),Array.isArray(a.columns)){if(0===a.columns.length)throw new Error("Option columns is empty");f=a.columns}void 0!==a.escapeChar&&(J=a.escapeChar+v),("boolean"==typeof a.escapeFormulae||a.escapeFormulae instanceof RegExp)&&(q=a.escapeFormulae instanceof RegExp?a.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var b=new RegExp(Tt(v),"g");if("string"==typeof s&&(s=JSON.parse(s)),Array.isArray(s)){if(!s.length||Array.isArray(s[0]))return $(null,s,M);if("object"==typeof s[0])return $(f||Object.keys(s[0]),s,M)}else if("object"==typeof s)return"string"==typeof s.data&&(s.data=JSON.parse(s.data)),Array.isArray(s.data)&&(s.fields||(s.fields=s.meta&&s.meta.fields||f),s.fields||(s.fields=Array.isArray(s.data[0])?s.fields:"object"==typeof s.data[0]?Object.keys(s.data[0]):[]),Array.isArray(s.data[0])||"object"==typeof s.data[0]||(s.data=[s.data])),$(s.fields||[],s.data||[],M);throw new Error("Unable to serialize unrecognized input");function $(_,U,B){var N="";"string"==typeof _&&(_=JSON.parse(_)),"string"==typeof U&&(U=JSON.parse(U));var j=Array.isArray(_)&&0<_.length,Q=!Array.isArray(U[0]);if(j&&p){for(var Y=0;Y<_.length;Y++)0<Y&&(N+=d),N+=L(_[Y],Y);0<U.length&&(N+=T)}for(var g=0;g<U.length;g++){var S=j?_.length:U[g].length,O=!1,P=j?0===Object.keys(U[g]).length:0===U[g].length;if(B&&!j&&(O="greedy"===B?""===U[g].join("").trim():1===U[g].length&&0===U[g][0].length),"greedy"===B&&j){for(var D=[],G=0;G<S;G++)D.push(U[g][Q?_[G]:G]);O=""===D.join("").trim()}if(!O){for(var F=0;F<S;F++)0<F&&!P&&(N+=d),N+=L(U[g][j&&Q?_[F]:F],F);g<U.length-1&&(!B||0<S&&!P)&&(N+=T)}}return N}function L(_,U){if(null==_)return"";if(_.constructor===Date)return JSON.stringify(_).slice(1,25);var B=!1;q&&"string"==typeof _&&q.test(_)&&(_="'"+_,B=!0);var N=_.toString().replace(b,J);return(B=B||!0===m||"function"==typeof m&&m(_,U)||Array.isArray(m)&&m[U]||function(j,Q){for(var Y=0;Y<Q.length;Y++)if(-1<j.indexOf(Q[Y]))return!0;return!1}(N,x.BAD_DELIMITERS)||-1<N.indexOf(d)||" "===N.charAt(0)||" "===N.charAt(N.length-1))?v+N+v:N}}};if(x.RECORD_SEP=String.fromCharCode(30),x.UNIT_SEP=String.fromCharCode(31),x.BYTE_ORDER_MARK="\ufeff",x.BAD_DELIMITERS=["\r","\n",'"',x.BYTE_ORDER_MARK],x.WORKERS_SUPPORTED=!t&&!!C.Worker,x.NODE_STREAM_INPUT=1,x.LocalChunkSize=10485760,x.RemoteChunkSize=5242880,x.DefaultDelimiter=",",x.Parser=vt,x.ParserHandle=bt,x.NetworkStreamer=_t,x.FileStreamer=it,x.StringStreamer=y,x.ReadableStreamStreamer=gt,C.jQuery){var V=C.jQuery;V.fn.parse=function(s){var a=s.config||{},m=[];return this.each(function(T){if("INPUT"!==V(this).prop("tagName").toUpperCase()||"file"!==V(this).attr("type").toLowerCase()||!C.FileReader||!this.files||0===this.files.length)return!0;for(var v=0;v<this.files.length;v++)m.push({file:this.files[v],inputElem:this,instanceConfig:V.extend({},a)})}),p(),this;function p(){if(0!==m.length){var v,J,M,f=m[0];if(w(s.before)){var q=s.before(f.file,f.inputElem);if("object"==typeof q){if("abort"===q.action)return"AbortError",v=f.file,J=f.inputElem,M=q.reason,void(w(s.error)&&s.error({name:"AbortError"},v,J,M));if("skip"===q.action)return void d();"object"==typeof q.config&&(f.instanceConfig=V.extend(f.instanceConfig,q.config))}else if("skip"===q)return void d()}var b=f.instanceConfig.complete;f.instanceConfig.complete=function($){w(b)&&b($,f.file,f.inputElem),d()},x.parse(f.file,f.instanceConfig)}else w(s.complete)&&s.complete()}function d(){m.splice(0,1),p()}}}function tt(s){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(a){var m=ot(a);m.chunkSize=parseInt(m.chunkSize),a.step||a.chunk||(m.chunkSize=null),this._handle=new bt(m),(this._handle.streamer=this)._config=m}.call(this,s),this.parseChunk=function(a,m){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var p=this._config.beforeFirstChunk(a);void 0!==p&&(a=p)}this.isFirstChunk=!1,this._halted=!1;var d=this._partialLine+a;this._partialLine="";var T=this._handle.parse(d,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var v=T.meta.cursor;this._finished||(this._partialLine=d.substring(v-this._baseIndex),this._baseIndex=v),T&&T.data&&(this._rowCount+=T.data.length);var J=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(It)C.postMessage({results:T,workerId:x.WORKER_ID,finished:J});else if(w(this._config.chunk)&&!m){if(this._config.chunk(T,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);T=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(T.data),this._completeResults.errors=this._completeResults.errors.concat(T.errors),this._completeResults.meta=T.meta),this._completed||!J||!w(this._config.complete)||T&&T.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),J||T&&T.meta.paused||this._nextChunk(),T}this._halted=!0},this._sendError=function(a){w(this._config.error)?this._config.error(a):It&&this._config.error&&C.postMessage({workerId:x.WORKER_ID,error:a,finished:!1})}}function _t(s){var a;(s=s||{}).chunkSize||(s.chunkSize=x.RemoteChunkSize),tt.call(this,s),this._nextChunk=t?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(m){this._input=m,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(a=new XMLHttpRequest,this._config.withCredentials&&(a.withCredentials=this._config.withCredentials),t||(a.onload=et(this._chunkLoaded,this),a.onerror=et(this._chunkError,this)),a.open(this._config.downloadRequestBody?"POST":"GET",this._input,!t),this._config.downloadRequestHeaders){var m=this._config.downloadRequestHeaders;for(var p in m)a.setRequestHeader(p,m[p])}this._config.chunkSize&&a.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{a.send(this._config.downloadRequestBody)}catch(T){this._chunkError(T.message)}t&&0===a.status&&this._chunkError()}},this._chunkLoaded=function(){var p;4===a.readyState&&(a.status<200||400<=a.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:a.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(p=a.getResponseHeader("Content-Range"))?-1:parseInt(p.substring(p.lastIndexOf("/")+1))),this.parseChunk(a.responseText)))},this._chunkError=function(m){this._sendError(new Error(a.statusText||m))}}function it(s){var a,m;(s=s||{}).chunkSize||(s.chunkSize=x.LocalChunkSize),tt.call(this,s);var p=typeof FileReader<"u";this.stream=function(d){this._input=d,m=d.slice||d.webkitSlice||d.mozSlice,p?((a=new FileReader).onload=et(this._chunkLoaded,this),a.onerror=et(this._chunkError,this)):a=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var d=this._input;if(this._config.chunkSize){var T=Math.min(this._start+this._config.chunkSize,this._input.size);d=m.call(d,this._start,T)}var v=a.readAsText(d,this._config.encoding);p||this._chunkLoaded({target:{result:v}})},this._chunkLoaded=function(d){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(d.target.result)},this._chunkError=function(){this._sendError(a.error)}}function y(s){var a;tt.call(this,s=s||{}),this.stream=function(m){return a=m,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var m,p=this._config.chunkSize;return p?(m=a.substring(0,p),a=a.substring(p)):(m=a,a=""),this._finished=!a,this.parseChunk(m)}}}function gt(s){tt.call(this,s=s||{});var a=[],m=!0,p=!1;this.pause=function(){tt.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){tt.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(d){this._input=d,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){p&&1===a.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),a.length?this.parseChunk(a.shift()):m=!0},this._streamData=et(function(d){try{a.push("string"==typeof d?d:d.toString(this._config.encoding)),m&&(m=!1,this._checkIsFinished(),this.parseChunk(a.shift()))}catch(T){this._streamError(T)}},this),this._streamError=et(function(d){this._streamCleanUp(),this._sendError(d)},this),this._streamEnd=et(function(){this._streamCleanUp(),p=!0,this._streamData("")},this),this._streamCleanUp=et(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function bt(s){var a,m,p,d=Math.pow(2,53),T=-d,v=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,J=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,M=this,f=0,q=0,b=!1,$=!1,L=[],_={data:[],errors:[],meta:{}};if(w(s.step)){var U=s.step;s.step=function(g){if(_=g,j())N();else{if(N(),0===_.data.length)return;f+=g.data.length,s.preview&&f>s.preview?m.abort():(_.data=_.data[0],U(_,M))}}}function B(g){return"greedy"===s.skipEmptyLines?""===g.join("").trim():1===g.length&&0===g[0].length}function N(){return _&&p&&(Y("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+x.DefaultDelimiter+"'"),p=!1),s.skipEmptyLines&&(_.data=_.data.filter(function(g){return!B(g)})),j()&&function(){if(_)if(Array.isArray(_.data[0])){for(var S=0;j()&&S<_.data.length;S++)_.data[S].forEach(g);_.data.splice(0,1)}else _.data.forEach(g);function g(O,P){w(s.transformHeader)&&(O=s.transformHeader(O,P)),L.push(O)}}(),function(){if(!_||!s.header&&!s.dynamicTyping&&!s.transform)return _;function g(O,P){var D,G=s.header?{}:[];for(D=0;D<O.length;D++){var k=D,F=O[D];s.header&&(k=D>=L.length?"__parsed_extra":L[D]),s.transform&&(F=s.transform(F,k)),F=Q(k,F),"__parsed_extra"===k?(G[k]=G[k]||[],G[k].push(F)):G[k]=F}return s.header&&(D>L.length?Y("FieldMismatch","TooManyFields","Too many fields: expected "+L.length+" fields but parsed "+D,q+P):D<L.length&&Y("FieldMismatch","TooFewFields","Too few fields: expected "+L.length+" fields but parsed "+D,q+P)),G}var S=1;return!_.data.length||Array.isArray(_.data[0])?(_.data=_.data.map(g),S=_.data.length):_.data=g(_.data,0),s.header&&_.meta&&(_.meta.fields=L),q+=S,_}()}function j(){return s.header&&0===L.length}function Q(g,S){return O=g,s.dynamicTypingFunction&&void 0===s.dynamicTyping[O]&&(s.dynamicTyping[O]=s.dynamicTypingFunction(O)),!0===(s.dynamicTyping[O]||s.dynamicTyping)?"true"===S||"TRUE"===S||"false"!==S&&"FALSE"!==S&&(function(P){if(v.test(P)){var D=parseFloat(P);if(T<D&&D<d)return!0}return!1}(S)?parseFloat(S):J.test(S)?new Date(S):""===S?null:S):S;var O}function Y(g,S,O,P){var D={type:g,code:S,message:O};void 0!==P&&(D.row=P),_.errors.push(D)}this.parse=function(g,S,O){if(s.newline||(s.newline=function(k,F){k=k.substring(0,1048576);var nt=new RegExp(Tt(F)+"([^]*?)"+Tt(F),"gm"),z=(k=k.replace(nt,"")).split("\r"),at=k.split("\n");if(1===z.length||1<at.length&&at[0].length<z[0].length)return"\n";for(var K=0,E=0;E<z.length;E++)"\n"===z[E][0]&&K++;return K>=z.length/2?"\r\n":"\r"}(g,s.quoteChar||'"')),p=!1,s.delimiter)w(s.delimiter)&&(s.delimiter=s.delimiter(g),_.meta.delimiter=s.delimiter);else{var D=function(k,F,nt,z,at){var rt,K,E,R;at=at||[",","\t","|",";",x.RECORD_SEP,x.UNIT_SEP];for(var dt=0;dt<at.length;dt++){var I=at[dt],ht=0,st=0,ft=0;E=void 0;for(var lt=new vt({comments:z,delimiter:I,newline:F,preview:10}).parse(k),ct=0;ct<lt.data.length;ct++)if(nt&&B(lt.data[ct]))ft++;else{var ut=lt.data[ct].length;st+=ut,void 0!==E?0<ut&&(ht+=Math.abs(ut-E),E=ut):E=ut}0<lt.data.length&&(st/=lt.data.length-ft),(void 0===K||ht<=K)&&(void 0===R||R<st)&&1.99<st&&(K=ht,rt=I,R=st)}return{successful:!!(s.delimiter=rt),bestDelimiter:rt}}(g,s.newline,s.skipEmptyLines,s.comments,s.delimitersToGuess);D.successful?s.delimiter=D.bestDelimiter:(p=!0,s.delimiter=x.DefaultDelimiter),_.meta.delimiter=s.delimiter}var G=ot(s);return s.preview&&s.header&&G.preview++,a=g,m=new vt(G),_=m.parse(a,S,O),N(),b?{meta:{paused:!0}}:_||{meta:{paused:!1}}},this.paused=function(){return b},this.pause=function(){b=!0,m.abort(),a=w(s.chunk)?"":a.substring(m.getCharIndex())},this.resume=function(){M.streamer._halted?(b=!1,M.streamer.parseChunk(a,!0)):setTimeout(M.resume,3)},this.aborted=function(){return $},this.abort=function(){$=!0,m.abort(),_.meta.aborted=!0,w(s.complete)&&s.complete(_),a=""}}function Tt(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function vt(s){var a,m=(s=s||{}).delimiter,p=s.newline,d=s.comments,T=s.step,v=s.preview,J=s.fastMode,M=a=s.quoteChar??'"';if(void 0!==s.escapeChar&&(M=s.escapeChar),("string"!=typeof m||-1<x.BAD_DELIMITERS.indexOf(m))&&(m=","),d===m)throw new Error("Comment character same as delimiter");!0===d?d="#":("string"!=typeof d||-1<x.BAD_DELIMITERS.indexOf(d))&&(d=!1),"\n"!==p&&"\r"!==p&&"\r\n"!==p&&(p="\n");var f=0,q=!1;this.parse=function(b,$,L){if("string"!=typeof b)throw new Error("Input must be a string");var _=b.length,U=m.length,B=p.length,N=d.length,j=w(T),Q=[],Y=[],g=[],S=f=0;if(!b)return H();if(s.header&&!$){var O=b.split(p)[0].split(m),P=[],D={},G=!1;for(var k in O){var F=O[k];w(s.transformHeader)&&(F=s.transformHeader(F,k));var nt=F,z=D[F]||0;for(0<z&&(G=!0,nt=F+"_"+z),D[F]=z+1;P.includes(nt);)nt=nt+"_"+z;P.push(nt)}if(G){var at=b.split(p);at[0]=P.join(m),b=at.join(p)}}if(J||!1!==J&&-1===b.indexOf(a)){for(var rt=b.split(p),K=0;K<rt.length;K++){if(f+=(g=rt[K]).length,K!==rt.length-1)f+=p.length;else if(L)return H();if(!d||g.substring(0,N)!==d){if(j){if(Q=[],ft(g.split(m)),Zt(),q)return H()}else ft(g.split(m));if(v&&v<=K)return Q=Q.slice(0,v),H(!0)}}return H()}for(var E=b.indexOf(m,f),R=b.indexOf(p,f),dt=new RegExp(Tt(M)+Tt(a),"g"),I=b.indexOf(a,f);;)if(b[f]!==a)if(d&&0===g.length&&b.substring(f,f+N)===d){if(-1===R)return H();R=b.indexOf(p,f=R+B),E=b.indexOf(m,f)}else if(-1!==E&&(E<R||-1===R))g.push(b.substring(f,E)),E=b.indexOf(m,f=E+U);else{if(-1===R)break;if(g.push(b.substring(f,R)),ut(R+B),j&&(Zt(),q))return H();if(v&&Q.length>=v)return H(!0)}else for(I=f,f++;;){if(-1===(I=b.indexOf(a,I+1)))return L||Y.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Q.length,index:f}),ct();if(I===_-1)return ct(b.substring(f,I).replace(dt,a));if(a!==M||b[I+1]!==M){if(a===M||0===I||b[I-1]!==M){-1!==E&&E<I+1&&(E=b.indexOf(m,I+1)),-1!==R&&R<I+1&&(R=b.indexOf(p,I+1));var ht=lt(-1===R?E:Math.min(E,R));if(b.substr(I+1+ht,U)===m){g.push(b.substring(f,I).replace(dt,a)),b[f=I+1+ht+U]!==a&&(I=b.indexOf(a,f)),E=b.indexOf(m,f),R=b.indexOf(p,f);break}var st=lt(R);if(b.substring(I+1+st,I+1+st+B)===p){if(g.push(b.substring(f,I).replace(dt,a)),ut(I+1+st+B),E=b.indexOf(m,f),I=b.indexOf(a,f),j&&(Zt(),q))return H();if(v&&Q.length>=v)return H(!0);break}Y.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Q.length,index:f}),I++}}else I++}return ct();function ft(X){Q.push(X),S=f}function lt(X){var Ut=0;if(-1!==X){var St=b.substring(I+1,X);St&&""===St.trim()&&(Ut=St.length)}return Ut}function ct(X){return L||(void 0===X&&(X=b.substring(f)),g.push(X),f=_,ft(g),j&&Zt()),H()}function ut(X){f=X,ft(g),g=[],R=b.indexOf(p,f)}function H(X){return{data:Q,errors:Y,meta:{delimiter:m,linebreak:p,aborted:q,truncated:!!X,cursor:S+($||0)}}}function Zt(){T(H()),Q=[],Y=[]}},this.abort=function(){q=!0},this.getCharIndex=function(){return f}}function Ft(s){var a=s.data,m=yt[a.workerId],p=!1;if(a.error)m.userError(a.error,a.file);else if(a.results&&a.results.data){var d={abort:function(){p=!0,Dt(a.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:At,resume:At};if(w(m.userStep)){for(var T=0;T<a.results.data.length&&(m.userStep({data:a.results.data[T],errors:a.results.errors,meta:a.results.meta},d),!p);T++);delete a.results}else w(m.userChunk)&&(m.userChunk(a.results,d,a.file),delete a.results)}a.finished&&!p&&Dt(a.workerId,a.results)}function Dt(s,a){var m=yt[s];w(m.userComplete)&&m.userComplete(a),m.terminate(),delete yt[s]}function At(){throw new Error("Not implemented.")}function ot(s){if("object"!=typeof s||null===s)return s;var a=Array.isArray(s)?[]:{};for(var m in s)a[m]=ot(s[m]);return a}function et(s,a){return function(){s.apply(a,arguments)}}function w(s){return"function"==typeof s}return It&&(C.onmessage=function(s){var a=s.data;if(void 0===x.WORKER_ID&&a&&(x.WORKER_ID=a.workerId),"string"==typeof a.input)C.postMessage({workerId:x.WORKER_ID,results:x.parse(a.input,a.config),finished:!0});else if(C.File&&a.input instanceof File||a.input instanceof Object){var m=x.parse(a.input,a.config);m&&C.postMessage({workerId:x.WORKER_ID,results:m,finished:!0})}}),(_t.prototype=Object.create(tt.prototype)).constructor=_t,(it.prototype=Object.create(tt.prototype)).constructor=it,(y.prototype=Object.create(y.prototype)).constructor=y,(gt.prototype=Object.create(tt.prototype)).constructor=gt,x},void 0!==(xt=Z.apply(wt,[]))&&(qt.exports=xt)}}]);